{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/astra/Desktop/ooo2/multibank-frontend/src/lib/hooks/useProfile.ts"],"sourcesContent":["import { useState } from 'react';\r\nimport {\r\n  useGetCurrentUserQuery,\r\n  useUpdateUserMutation,\r\n  useUploadAvatarMutation,\r\n  useDeleteAvatarMutation,\r\n  useRefreshAvatarUrlMutation,\r\n  UpdateUserData,\r\n  UpdateProfileData,\r\n} from '../store/api/UserApi';\r\n\r\nexport const useProfile = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const {\r\n    data: user,\r\n    isLoading: userLoading,\r\n    error: userError,\r\n    refetch: refetchUser,\r\n  } = useGetCurrentUserQuery();\r\n\r\n  const profile = user?.profile;\r\n\r\n  const refetchProfile = async () => {\r\n    return refetchUser();\r\n  };\r\n\r\n  const [updateUser, { isLoading: updateUserLoading }] = useUpdateUserMutation();\r\n  const [uploadAvatar, { isLoading: uploadAvatarLoading }] = useUploadAvatarMutation();\r\n  const [deleteAvatar, { isLoading: deleteAvatarLoading }] = useDeleteAvatarMutation();\r\n  const [refreshAvatarUrl, { isLoading: refreshAvatarUrlLoading }] = useRefreshAvatarUrlMutation();\r\n\r\n  const handleUpdateUser = async (userData: UpdateUserData) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      await updateUser(userData).unwrap();\r\n      await refetchUser();\r\n    } catch (err: any) {\r\n      setError(err?.data?.message || 'Ошибка при обновлении пользователя');\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateProfile = async (profileData: UpdateProfileData) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      await updateUser(profileData).unwrap();\r\n      await refetchUser();\r\n    } catch (err: any) {\r\n      setError(err?.data?.message || 'Ошибка при обновлении профиля');\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadAvatar = async (file: File) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      const formData = new FormData();\r\n      formData.append('avatar', file);\r\n\r\n      const result = await uploadAvatar(formData).unwrap();\r\n      await refetchUser();\r\n      return result;\r\n    } catch (err: any) {\r\n      setError(err?.data?.message || 'Ошибка при загрузке аватара');\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAvatar = async (fileId: number) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      await deleteAvatar(fileId).unwrap();\r\n      await refetchUser(); \r\n    } catch (err: any) {\r\n      setError(err?.data?.message || 'Ошибка при удалении аватара');\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRefreshAvatarUrl = async (fileId: number, expiry?: number) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      const result = await refreshAvatarUrl({ fileId, expiry }).unwrap();\r\n      await refetchUser(); \r\n      return result;\r\n    } catch (err: any) {\r\n      setError(err?.data?.message || 'Ошибка при обновлении URL аватара');\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getFullName = () => {\r\n    if (!profile) return user?.username || 'Пользователь';\r\n\r\n    const firstName = profile.firstName || '';\r\n    const lastName = profile.lastName || '';\r\n\r\n    if (firstName && lastName) {\r\n      return `${firstName} ${lastName}`;\r\n    } else if (firstName) {\r\n      return firstName;\r\n    } else if (lastName) {\r\n      return lastName;\r\n    }\r\n\r\n    return user?.username || 'Пользователь';\r\n  };\r\n\r\n  const getInitials = () => {\r\n    const fullName = getFullName();\r\n    const names = fullName.split(' ');\r\n    if (names.length >= 2) {\r\n      return `${names[0][0]}${names[1][0]}`.toUpperCase();\r\n    }\r\n    return fullName[0]?.toUpperCase() || 'U';\r\n  };\r\n\r\n  const hasAvatar = () => {\r\n    return profile?.avatar && profile.avatar.trim() !== '';\r\n  };\r\n\r\n  const formatDate = (dateString?: string) => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('ru-RU');\r\n  };\r\n\r\n  const formatBirthDate = (dateString?: string) => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('ru-RU');\r\n  };\r\n\r\n  return {\r\n    user,\r\n    profile,\r\n    isLoading:\r\n      isLoading ||\r\n      userLoading ||\r\n      updateUserLoading ||\r\n      uploadAvatarLoading ||\r\n      deleteAvatarLoading ||\r\n      refreshAvatarUrlLoading,\r\n    error: error || userError,\r\n    handleUpdateUser,\r\n    handleUpdateProfile,\r\n    handleUploadAvatar,\r\n    handleDeleteAvatar,\r\n    handleRefreshAvatarUrl,\r\n    getFullName,\r\n    getInitials,\r\n    hasAvatar,\r\n    formatDate,\r\n    formatBirthDate,\r\n    refetchUser,\r\n    refetchProfile,\r\n  };\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/astra/Desktop/ooo2/multibank-frontend/src/app/profile/AnalyticsCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Card, Text, Stack, Group, ThemeIcon } from '@mantine/core';\r\nimport { IconArrowUpRight } from '@tabler/icons-react';\r\n\r\ninterface AnalyticsCardProps {\r\n  value: number;\r\n  label: string;\r\n  percent: number;\r\n  color?: string;\r\n  heights?: number[];\r\n}\r\n\r\nexport default function AnalyticsCard({\r\n  value,\r\n  label,\r\n  percent,\r\n  color = '#E67E22',\r\n  heights = [35, 28, 52, 45, 68],\r\n}: AnalyticsCardProps) {\r\n  const BAR_COUNT = 5;\r\n  const GRAY_COLOR = '#D9D9D9';\r\n  const BAR_WIDTH = 18;\r\n  const GAP = 6;\r\n  const CHART_HEIGHT = 70;\r\n\r\n  const chartWidth = BAR_COUNT * BAR_WIDTH + (BAR_COUNT - 1) * GAP;\r\n\r\n  return (\r\n    <Card\r\n      shadow=\"sm\"\r\n      radius=\"lg\"\r\n      padding=\"md\"\r\n      style={{\r\n        borderRadius: 16,\r\n        backgroundColor: '#fff',\r\n        height: 140,\r\n      }}\r\n    >\r\n      <Group justify=\"space-between\" align=\"center\" style={{ height: '100%' }}>\r\n        <Stack gap={2} style={{ flex: 1 }}>\r\n          <Text \r\n            fw={700} \r\n            color={color}\r\n            style={{ fontSize: '2.25rem', lineHeight: 1.2 }}\r\n          >\r\n            {value}\r\n          </Text>\r\n          <Text size=\"md\" fw={500} c=\"dimmed\">\r\n            {label}\r\n          </Text>\r\n          <Group gap={4}>\r\n            <ThemeIcon color=\"gray\" variant=\"light\" size=\"xs\" radius=\"xl\">\r\n              <IconArrowUpRight size={12} />\r\n            </ThemeIcon>\r\n            <Text size=\"sm\" fw={600} c=\"dimmed\">\r\n              {percent}%\r\n            </Text>\r\n          </Group>\r\n        </Stack>\r\n\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\r\n          <svg\r\n            width={chartWidth}\r\n            height={CHART_HEIGHT}\r\n            viewBox={`0 0 ${chartWidth} ${CHART_HEIGHT}`}\r\n          >\r\n          {heights.map((h, i) => {\r\n            const x = i * (BAR_WIDTH + GAP);\r\n            const y = CHART_HEIGHT - (CHART_HEIGHT * h) / 100;\r\n            const height = (CHART_HEIGHT * h) / 100;\r\n            const fill = i === heights.length - 1 ? color : GRAY_COLOR;\r\n            return (\r\n              <rect\r\n                key={i}\r\n                x={x}\r\n                y={y}\r\n                width={BAR_WIDTH}\r\n                height={height}\r\n                fill={fill}\r\n              />\r\n            );\r\n          })}\r\n          </svg>\r\n        </div>\r\n      </Group>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAae,SAAS,cAAc,EACpC,KAAK,EACL,KAAK,EACL,OAAO,EACP,QAAQ,SAAS,EACjB,UAAU;IAAC;IAAI;IAAI;IAAI;IAAI;CAAG,EACX;IACnB,MAAM,YAAY;IAClB,MAAM,aAAa;IACnB,MAAM,YAAY;IAClB,MAAM,MAAM;IACZ,MAAM,eAAe;IAErB,MAAM,aAAa,YAAY,YAAY,CAAC,YAAY,CAAC,IAAI;IAE7D,qBACE,8OAAC,+KAAI;QACH,QAAO;QACP,QAAO;QACP,SAAQ;QACR,OAAO;YACL,cAAc;YACd,iBAAiB;YACjB,QAAQ;QACV;kBAEA,cAAA,8OAAC,kLAAK;YAAC,SAAQ;YAAgB,OAAM;YAAS,OAAO;gBAAE,QAAQ;YAAO;;8BACpE,8OAAC,kLAAK;oBAAC,KAAK;oBAAG,OAAO;wBAAE,MAAM;oBAAE;;sCAC9B,8OAAC,+KAAI;4BACH,IAAI;4BACJ,OAAO;4BACP,OAAO;gCAAE,UAAU;gCAAW,YAAY;4BAAI;sCAE7C;;;;;;sCAEH,8OAAC,+KAAI;4BAAC,MAAK;4BAAK,IAAI;4BAAK,GAAE;sCACxB;;;;;;sCAEH,8OAAC,kLAAK;4BAAC,KAAK;;8CACV,8OAAC,8LAAS;oCAAC,OAAM;oCAAO,SAAQ;oCAAQ,MAAK;oCAAK,QAAO;8CACvD,cAAA,8OAAC,0PAAgB;wCAAC,MAAM;;;;;;;;;;;8CAE1B,8OAAC,+KAAI;oCAAC,MAAK;oCAAK,IAAI;oCAAK,GAAE;;wCACxB;wCAAQ;;;;;;;;;;;;;;;;;;;8BAKf,8OAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,YAAY;wBAAU,gBAAgB;oBAAW;8BAC9E,cAAA,8OAAC;wBACC,OAAO;wBACP,QAAQ;wBACR,SAAS,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE,cAAc;kCAE7C,QAAQ,GAAG,CAAC,CAAC,GAAG;4BACf,MAAM,IAAI,IAAI,CAAC,YAAY,GAAG;4BAC9B,MAAM,IAAI,eAAe,AAAC,eAAe,IAAK;4BAC9C,MAAM,SAAS,AAAC,eAAe,IAAK;4BACpC,MAAM,OAAO,MAAM,QAAQ,MAAM,GAAG,IAAI,QAAQ;4BAChD,qBACE,8OAAC;gCAEC,GAAG;gCACH,GAAG;gCACH,OAAO;gCACP,QAAQ;gCACR,MAAM;+BALD;;;;;wBAQX;;;;;;;;;;;;;;;;;;;;;;AAMV","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/astra/Desktop/ooo2/multibank-frontend/src/app/profile/AnalyticsSection.tsx"],"sourcesContent":["import { SimpleGrid } from '@mantine/core';\r\nimport AnalyticsCard from './AnalyticsCard';\r\n\r\ninterface AnalyticsCardData {\r\n  value: number;\r\n  label: string;\r\n  percent: number;\r\n  color: string;\r\n  heights: number[];\r\n}\r\n\r\nconst ANALYTICS_DATA: AnalyticsCardData[] = [\r\n  {\r\n    value: 5,\r\n    label: 'Баланс',\r\n    percent: 33.67,\r\n    color: '#E67E22',\r\n    heights: [35, 28, 52, 45, 68],\r\n  },\r\n  {\r\n    value: 12,\r\n    label: 'Переводы',\r\n    percent: 82.1,\r\n    color: '#27AE60',\r\n    heights: [45, 62, 38, 55, 72],\r\n  },\r\n  {\r\n    value: 3,\r\n    label: 'Траты',\r\n    percent: 14.5,\r\n    color: '#3498DB',\r\n    heights: [28, 35, 42, 58, 48],\r\n  },\r\n];\r\n\r\nexport default function AnalyticsSection() {\r\n  return (\r\n    <SimpleGrid cols={{ base: 1, sm: 2, md: 3 }} spacing=\"lg\">\r\n      {ANALYTICS_DATA.map((card) => (\r\n        <AnalyticsCard\r\n          key={card.label}\r\n          value={card.value}\r\n          label={card.label}\r\n          percent={card.percent}\r\n          color={card.color}\r\n          heights={card.heights}\r\n        />\r\n      ))}\r\n    </SimpleGrid>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUA,MAAM,iBAAsC;IAC1C;QACE,OAAO;QACP,OAAO;QACP,SAAS;QACT,OAAO;QACP,SAAS;YAAC;YAAI;YAAI;YAAI;YAAI;SAAG;IAC/B;IACA;QACE,OAAO;QACP,OAAO;QACP,SAAS;QACT,OAAO;QACP,SAAS;YAAC;YAAI;YAAI;YAAI;YAAI;SAAG;IAC/B;IACA;QACE,OAAO;QACP,OAAO;QACP,SAAS;QACT,OAAO;QACP,SAAS;YAAC;YAAI;YAAI;YAAI;YAAI;SAAG;IAC/B;CACD;AAEc,SAAS;IACtB,qBACE,8OAAC,iMAAU;QAAC,MAAM;YAAE,MAAM;YAAG,IAAI;YAAG,IAAI;QAAE;QAAG,SAAQ;kBAClD,eAAe,GAAG,CAAC,CAAC,qBACnB,8OAAC,kJAAa;gBAEZ,OAAO,KAAK,KAAK;gBACjB,OAAO,KAAK,KAAK;gBACjB,SAAS,KAAK,OAAO;gBACrB,OAAO,KAAK,KAAK;gBACjB,SAAS,KAAK,OAAO;eALhB,KAAK,KAAK;;;;;;;;;;AAUzB","debugId":null}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/astra/Desktop/ooo2/multibank-frontend/src/app/profile/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  Text,\r\n  Avatar,\r\n  Group,\r\n  Stack,\r\n  Badge,\r\n  Button,\r\n  SimpleGrid,\r\n  Paper,\r\n  Title,\r\n  ActionIcon,\r\n  Menu,\r\n  ThemeIcon,\r\n  Modal,\r\n  TextInput,\r\n  Select,\r\n  Alert,\r\n  Loader,\r\n  Center,\r\n} from '@mantine/core';\r\nimport {\r\n  IconUser,\r\n  IconSettings,\r\n  IconCreditCard,\r\n  IconWallet,\r\n  IconChartBar,\r\n  IconBell,\r\n  IconDots,\r\n  IconLogout,\r\n  IconHistory,\r\n  IconUpload,\r\n  IconAlertCircle,\r\n} from '@tabler/icons-react';\r\nimport { useProfile } from '@/lib/hooks/useProfile';\r\nimport { useLogoutMutation } from '@/lib/store/api/AuthApi';\r\nimport { userApi } from '@/lib/store/api/UserApi';\r\nimport { authApi } from '@/lib/store/api/AuthApi';\r\nimport { useDispatch } from 'react-redux';\r\nimport AnalyticsSection from './AnalyticsSection';\r\n\r\nexport default function ProfilePage() {\r\n  const router = useRouter();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [notifications, setNotifications] = useState({\r\n    email: true,\r\n    sms: true,\r\n    push: true,\r\n    security: true,\r\n  });\r\n\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [editError, setEditError] = useState<string | null>(null);\r\n  const [editFormData, setEditFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    birthDate: '',\r\n    gender: '' as 'MALE' | 'FEMALE' | '',\r\n  });\r\n\r\n  const {\r\n    user,\r\n    profile,\r\n    isLoading,\r\n    error,\r\n    handleUpdateUser,\r\n    handleUploadAvatar,\r\n    getFullName,\r\n    hasAvatar,\r\n    formatBirthDate,\r\n  } = useProfile();\r\n\r\n  const [logout, { isLoading: logoutLoading }] = useLogoutMutation();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflowX = 'hidden';\r\n    document.documentElement.style.overflowX = 'hidden';\r\n    return () => {\r\n      document.body.style.overflowX = '';\r\n      document.documentElement.style.overflowX = '';\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (profile) {\r\n      setEditFormData({\r\n        firstName: profile.firstName || '',\r\n        lastName: profile.lastName || '',\r\n        phone: user?.phone || '',\r\n        birthDate: profile.birthDate ? profile.birthDate.split('T')[0] : '',\r\n        gender: (profile.gender === 'MALE' || profile.gender === 'FEMALE') ? profile.gender as 'MALE' | 'FEMALE' : '',\r\n      });\r\n    }\r\n  }, [profile, user]);\r\n\r\n  const toggleNotification = (type: keyof typeof notifications) => {\r\n    setNotifications(prev => ({\r\n      ...prev,\r\n      [type]: !prev[type]\r\n    }));\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    try {\r\n      setEditError(null);\r\n      \r\n      await handleUpdateUser({\r\n        phone: editFormData.phone,\r\n        firstName: editFormData.firstName,\r\n        lastName: editFormData.lastName,\r\n        birthDate: editFormData.birthDate ? new Date(editFormData.birthDate).toISOString() : undefined,\r\n        gender: editFormData.gender || undefined,\r\n      });\r\n\r\n      setIsEditModalOpen(false);\r\n    } catch (error: any) {\r\n      console.error('Ошибка при сохранении профиля:', error);\r\n      console.error('Детали ошибки:', JSON.stringify(error, null, 2));\r\n      \r\n      const errorMessage = error?.data?.message || error?.message || 'Произошла ошибка при сохранении профиля';\r\n      setEditError(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleAvatarUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        await handleUploadAvatar(file);\r\n      } catch (error) {\r\n        console.error('Ошибка при загрузке аватара:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout().unwrap();\r\n      \r\n      localStorage.removeItem('access_token');\r\n      localStorage.removeItem('user');\r\n      \r\n      document.cookie = 'access_token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n      \r\n      dispatch(userApi.util.resetApiState());\r\n      dispatch(authApi.util.resetApiState());\r\n      \r\n      window.location.href = '/login';\r\n    } catch (error) {\r\n      console.error('Ошибка при выходе:', error);\r\n    }\r\n  };\r\n\r\n  if (isLoading && !user && !profile) {\r\n    return (\r\n      <Container size=\"xl\" py=\"xl\">\r\n        <Center h={400}>\r\n          <Stack align=\"center\" gap=\"md\">\r\n            <Loader size=\"lg\" />\r\n          </Stack>\r\n        </Center>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container size=\"xl\" py=\"xl\">\r\n        <Alert icon={<IconAlertCircle size={16} />} title=\"Ошибка\" color=\"red\">\r\n          {typeof error === 'string' ? error : 'Произошла ошибка при загрузке данных'}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        background: 'linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%)',\r\n        minHeight: '100vh',\r\n        width: '100%',\r\n        margin: 0,\r\n        padding: 0,\r\n        overflowX: 'hidden',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n      }}\r\n    >\r\n      <Container size=\"xl\" py=\"xl\" style={{ maxWidth: '1900px', width: '100%', overflowX: 'hidden', paddingLeft: '7rem' }}>\r\n      <Grid gutter={{ base: 'md', sm: 'lg', md: 'xl' }}>\r\n        <Grid.Col span={{ base: 12, md: 4 }}>\r\n          <Card \r\n            padding=\"xl\" \r\n            radius=\"lg\"\r\n            style={{\r\n              background: 'rgba(255, 255, 255, 0.8)',\r\n              backdropFilter: 'blur(10px)'\r\n            }}\r\n          >\r\n            <Group justify=\"space-between\" mb={0}>\r\n              <div></div>\r\n              <Menu shadow=\"md\" width={200}>\r\n                <Menu.Target>\r\n                  <ActionIcon variant=\"subtle\" size=\"lg\">\r\n                    <IconDots size={20} />\r\n                  </ActionIcon>\r\n                </Menu.Target>\r\n                <Menu.Dropdown>\r\n                  <Menu.Item leftSection={<IconSettings size={14} />}>Настройки</Menu.Item>\r\n                  <Menu.Item leftSection={<IconBell size={14} />}>Уведомления</Menu.Item>\r\n                  <Menu.Divider />\r\n                  <Menu.Item \r\n                    leftSection={<IconLogout size={14} />} \r\n                    color=\"red\"\r\n                    onClick={handleLogout}\r\n                    disabled={logoutLoading}\r\n                  >\r\n                    {logoutLoading ? 'Выход...' : 'Выйти'}\r\n                  </Menu.Item>\r\n                </Menu.Dropdown>\r\n              </Menu>\r\n            </Group>\r\n            <Stack align=\"center\" gap=\"xs\">\r\n              <div\r\n                style={{\r\n                  position: 'relative',\r\n                  cursor: 'pointer',\r\n                  display: 'inline-block'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  const overlay = e.currentTarget.querySelector('.avatar-overlay') as HTMLElement;\r\n                  if (overlay) overlay.style.opacity = '1';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  const overlay = e.currentTarget.querySelector('.avatar-overlay') as HTMLElement;\r\n                  if (overlay) overlay.style.opacity = '0';\r\n                }}\r\n                onClick={() => {\r\n                  fileInputRef.current?.click();\r\n                }}\r\n              >\r\n                  <Avatar \r\n                    size={150} \r\n                    radius=\"50%\" \r\n                    color=\"blue\"\r\n                    src={hasAvatar() ? profile?.avatar : undefined}\r\n                  >\r\n                  {hasAvatar() ? null : <IconUser size={80} />}\r\n                </Avatar>\r\n                  <div\r\n                    className=\"avatar-overlay\"\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: 0,\r\n                      left: 0,\r\n                      right: 0,\r\n                      bottom: 0,\r\n                      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                      borderRadius: '50%',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      opacity: 0,\r\n                      transition: 'opacity 0.2s ease',\r\n                      pointerEvents: 'none'\r\n                    }}\r\n                  >\r\n                  <IconUpload size={30} color=\"white\" />\r\n                </div>\r\n              </div>\r\n              \r\n              <Stack align=\"center\" gap=\"xs\">\r\n                <Title order={2}>{getFullName()}</Title>\r\n                <Badge color={user?.isActive ? \"green\" : \"red\"} variant=\"light\">\r\n                  {user?.isActive ? \"Активный\" : \"Неактивный\"}\r\n                </Badge>\r\n              </Stack>\r\n               <Button \r\n                 style={{ \r\n                   marginTop: 'var(--mantine-spacing-lg)',\r\n                   width: '63%',\r\n                   backgroundColor: '#1E90FF',\r\n                   border: 'none',\r\n                   borderRadius: '13px',\r\n                   fontWeight: 600\r\n                 }} \r\n                 variant=\"filled\" \r\n                 color=\"blue\"\r\n                 size=\"md\"\r\n                 onClick={() => {\r\n                   setEditError(null);\r\n                   setIsEditModalOpen(true);\r\n                 }}\r\n               >\r\n                 Редактировать профиль\r\n               </Button>\r\n\r\n              <Stack gap=\"md\" w=\"100%\" mt=\"lg\">\r\n                <Paper \r\n                  p=\"lg\" \r\n                  radius=\"xl\"\r\n                  style={{\r\n                    backgroundColor: '#f5f6f7',\r\n                    borderRadius: '20px'\r\n                  }}\r\n                >\r\n                  <Stack gap=\"sm\">\r\n                    <Text size=\"sm\" fw={600} c=\"dimmed\">Email</Text>\r\n                    <Text size=\"md\" fw={500}>{user?.email}</Text>\r\n                  </Stack>\r\n                </Paper>\r\n\r\n                <Paper \r\n                  p=\"lg\" \r\n                  radius=\"xl\"\r\n                  style={{\r\n                    backgroundColor: '#f5f6f7',\r\n                    borderRadius: '20px'\r\n                  }}\r\n                >\r\n                  <Stack gap=\"sm\">\r\n                    <Text size=\"sm\" fw={600} c=\"dimmed\">Телефон</Text>\r\n                    <Text size=\"md\" fw={500}>{user?.phone || 'Не указан'}</Text>\r\n                  </Stack>\r\n                </Paper>\r\n\r\n                {profile?.birthDate && (\r\n                  <Paper \r\n                    p=\"lg\" \r\n                    radius=\"xl\"\r\n                    style={{\r\n                      backgroundColor: '#f5f6f7',\r\n                      borderRadius: '20px'\r\n                    }}\r\n                  >\r\n                    <Stack gap=\"sm\">\r\n                      <Text size=\"sm\" fw={600} c=\"dimmed\">Дата рождения</Text>\r\n                      <Text size=\"md\" fw={500}>{formatBirthDate(profile.birthDate)}</Text>\r\n                    </Stack>\r\n                  </Paper>\r\n                )}\r\n              </Stack>\r\n            </Stack>\r\n          </Card>\r\n\r\n          <Card \r\n            padding=\"xl\" \r\n            radius=\"lg\" \r\n            mt=\"md\"\r\n            style={{\r\n              background: 'rgba(255, 255, 255, 0.8)',\r\n              backdropFilter: 'blur(10px)'\r\n            }}\r\n          >\r\n            <Title order={4} mb=\"md\">Быстрые действия</Title>\r\n            <Stack gap=\"sm\">\r\n              <Button \r\n                variant=\"subtle\" \r\n                size=\"md\"\r\n                leftSection={<IconHistory size={18} />} \r\n                justify=\"start\"\r\n              >\r\n                История операций\r\n              </Button>\r\n              <Button \r\n                variant=\"subtle\" \r\n                size=\"md\"\r\n                leftSection={<IconChartBar size={18} />} \r\n                justify=\"start\"\r\n              >\r\n                Аналитика\r\n              </Button>\r\n              <Button \r\n                variant=\"subtle\" \r\n                size=\"md\"\r\n                leftSection={<IconBell size={18} />} \r\n                justify=\"start\"\r\n                onClick={() => router.push('/analytics')}\r\n              >\r\n                Уведомления\r\n              </Button>\r\n              <Button \r\n                variant=\"subtle\" \r\n                size=\"md\"\r\n                leftSection={<IconUser size={18} />} \r\n                justify=\"start\"\r\n              >\r\n                Поддержка\r\n              </Button>\r\n            </Stack>\r\n          </Card>\r\n        </Grid.Col>\r\n        <Grid.Col span={{ base: 12, md: 7.5 }}>\r\n          <div style={{ marginBottom: 'var(--mantine-spacing-xl)' }}>\r\n            <AnalyticsSection />\r\n          </div>\r\n\r\n          <Card \r\n            padding=\"xl\" \r\n            radius=\"lg\"\r\n            style={{\r\n              background: 'rgba(255, 255, 255, 0.8)',\r\n              backdropFilter: 'blur(10px)'\r\n            }}\r\n          >\r\n            <Group justify=\"space-between\" mb=\"md\">\r\n              <Title order={4}>Последние транзакции</Title>\r\n              <Button \r\n                variant=\"subtle\" \r\n                size=\"sm\"\r\n              >\r\n                Все операции\r\n              </Button>\r\n            </Group>\r\n\r\n            <Stack gap=\"sm\">\r\n              <Group justify=\"space-between\" p=\"sm\" style={{ backgroundColor: 'var(--mantine-color-gray-0)', borderRadius: 'var(--mantine-radius-md)' }}>\r\n                <Group gap=\"sm\">\r\n                  <ThemeIcon color=\"green\" variant=\"light\" size=\"sm\">\r\n                    <IconWallet size={16} />\r\n                  </ThemeIcon>\r\n                  <div>\r\n                    <Text size=\"sm\" fw={500}>Пополнение счета</Text>\r\n                    <Text size=\"xs\" c=\"dimmed\">Переводы</Text>\r\n                  </div>\r\n                </Group>\r\n                <Text fw={700} c=\"green\">+₽ 5,000</Text>\r\n              </Group>\r\n\r\n              <Group justify=\"space-between\" p=\"sm\">\r\n                <Group gap=\"sm\">\r\n                  <ThemeIcon color=\"red\" variant=\"light\" size=\"sm\">\r\n                    <IconCreditCard size={16} />\r\n                  </ThemeIcon>\r\n                  <div>\r\n                    <Text size=\"sm\" fw={500}>Магнит</Text>\r\n                    <Text size=\"xs\" c=\"dimmed\">Супермаркеты</Text>\r\n                  </div>\r\n                </Group>\r\n                <Text fw={700} c=\"red\">-₽ 1,250</Text>\r\n              </Group>\r\n\r\n              <Group justify=\"space-between\" p=\"sm\" style={{ backgroundColor: 'var(--mantine-color-gray-0)', borderRadius: 'var(--mantine-radius-md)' }}>\r\n                <Group gap=\"sm\">\r\n                  <ThemeIcon color=\"blue\" variant=\"light\" size=\"sm\">\r\n                    <IconWallet size={16} />\r\n                  </ThemeIcon>\r\n                  <div>\r\n                    <Text size=\"sm\" fw={500}>Перевод между счетами</Text>\r\n                    <Text size=\"xs\" c=\"dimmed\">Переводы</Text>\r\n                  </div>\r\n                </Group>\r\n                <Text fw={700} c=\"blue\">₽ 3,000</Text>\r\n              </Group>\r\n            </Stack>\r\n          </Card>\r\n\r\n          <Card \r\n            padding=\"xl\" \r\n            radius=\"lg\" \r\n            mt=\"md\"\r\n            style={{\r\n              background: 'rgba(255, 255, 255, 0.8)',\r\n              backdropFilter: 'blur(10px)'\r\n            }}\r\n          >\r\n            <Title order={4} mb=\"md\">Настройки уведомлений</Title>\r\n\r\n            <SimpleGrid cols={{ base: 1, sm: 2 }} spacing=\"md\">\r\n              <Group justify=\"space-between\">\r\n                <div>\r\n                  <Text size=\"sm\" fw={500}>Email уведомления</Text>\r\n                  <Text size=\"xs\" c=\"dimmed\">Получать уведомления на email</Text>\r\n                </div>\r\n                <Button \r\n                  size=\"xs\" \r\n                  variant={notifications.email ? \"light\" : \"outline\"}\r\n                  color={notifications.email ? \"blue\" : \"gray\"}\r\n                  onClick={() => toggleNotification('email')}\r\n                >\r\n                  {notifications.email ? 'Включено' : 'Выключено'}\r\n                </Button>\r\n              </Group>\r\n\r\n              <Group justify=\"space-between\">\r\n                <div>\r\n                  <Text size=\"sm\" fw={500}>SMS уведомления</Text>\r\n                  <Text size=\"xs\" c=\"dimmed\">Получать SMS о операциях</Text>\r\n                </div>\r\n                <Button \r\n                  size=\"xs\" \r\n                  variant={notifications.sms ? \"light\" : \"outline\"}\r\n                  color={notifications.sms ? \"blue\" : \"gray\"}\r\n                  onClick={() => toggleNotification('sms')}\r\n                >\r\n                  {notifications.sms ? 'Включено' : 'Выключено'}\r\n                </Button>\r\n              </Group>\r\n\r\n              <Group justify=\"space-between\">\r\n                <div>\r\n                  <Text size=\"sm\" fw={500}>Push уведомления</Text>\r\n                  <Text size=\"xs\" c=\"dimmed\">Уведомления в приложении</Text>\r\n                </div>\r\n                <Button \r\n                  size=\"xs\" \r\n                  variant={notifications.push ? \"light\" : \"outline\"}\r\n                  color={notifications.push ? \"blue\" : \"gray\"}\r\n                  onClick={() => toggleNotification('push')}\r\n                >\r\n                  {notifications.push ? 'Включено' : 'Выключено'}\r\n                </Button>\r\n              </Group>\r\n\r\n              <Group justify=\"space-between\">\r\n                <div>\r\n                  <Text size=\"sm\" fw={500}>Безопасность</Text>\r\n                  <Text size=\"xs\" c=\"dimmed\">Уведомления о входе в аккаунт</Text>\r\n                </div>\r\n                <Button \r\n                  size=\"xs\" \r\n                  variant={notifications.security ? \"light\" : \"outline\"}\r\n                  color={notifications.security ? \"blue\" : \"gray\"}\r\n                  onClick={() => toggleNotification('security')}\r\n                >\r\n                  {notifications.security ? 'Включено' : 'Выключено'}\r\n                </Button>\r\n              </Group>\r\n            </SimpleGrid>\r\n          </Card>\r\n        </Grid.Col>\r\n      </Grid>\r\n\r\n      <Modal\r\n        opened={isEditModalOpen}\r\n        onClose={() => setIsEditModalOpen(false)}\r\n        title=\"Редактирование профиля\"\r\n        size=\"md\"\r\n      >\r\n        <Stack gap=\"md\">\r\n          {editError && (\r\n            <Alert icon={<IconAlertCircle size={16} />} title=\"Ошибка\" color=\"red\">\r\n              {editError}\r\n            </Alert>\r\n          )}\r\n          \r\n          <TextInput\r\n            label=\"Имя\"\r\n            value={editFormData.firstName}\r\n            onChange={(e) => setEditFormData(prev => ({ ...prev, firstName: e.target.value }))}\r\n            placeholder=\"Введите ваше имя\"\r\n          />\r\n\r\n          <TextInput\r\n            label=\"Фамилия\"\r\n            value={editFormData.lastName}\r\n            onChange={(e) => setEditFormData(prev => ({ ...prev, lastName: e.target.value }))}\r\n            placeholder=\"Введите вашу фамилию\"\r\n          />\r\n\r\n          <TextInput\r\n            label=\"Телефон\"\r\n            value={editFormData.phone}\r\n            onChange={(e) => setEditFormData(prev => ({ ...prev, phone: e.target.value }))}\r\n            placeholder=\"+7 (999) 123-45-67\"\r\n          />\r\n\r\n          <TextInput\r\n            label=\"Дата рождения\"\r\n            type=\"date\"\r\n            value={editFormData.birthDate}\r\n            onChange={(e) => setEditFormData(prev => ({ ...prev, birthDate: e.target.value }))}\r\n          />\r\n\r\n          <Select\r\n            label=\"Пол\"\r\n            placeholder=\"Выберите пол\"\r\n            value={editFormData.gender}\r\n            onChange={(value) => setEditFormData(prev => ({ ...prev, gender: value as 'MALE' | 'FEMALE' | '' }))}\r\n            data={[\r\n              { value: 'MALE', label: 'Мужской' },\r\n              { value: 'FEMALE', label: 'Женский' },\r\n            ]}\r\n          />\r\n\r\n          <Group justify=\"flex-end\" gap=\"sm\" mt=\"md\">\r\n            <Button variant=\"outline\" onClick={() => setIsEditModalOpen(false)}>\r\n              Отмена\r\n            </Button>\r\n            <Button onClick={handleSaveProfile} loading={isLoading}>\r\n              Сохранить\r\n            </Button>\r\n          </Group>\r\n        </Stack>\r\n      </Modal>\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleAvatarUpload}\r\n      />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}