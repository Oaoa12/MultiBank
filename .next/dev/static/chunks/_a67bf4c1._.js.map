{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/public/Logo.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1582, height: 551, blurWidth: 8, blurHeight: 3, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAbklEQVR42gFjAJz/AH3N74BVvuqos9LmT9jb5S2+w9VKrrTKXbe80FO2vNBTAJDU8W6Y1/JmxtLiP5CYt4C9wtRMm6O+c5ScuXxveqKmAP7+/wH+//8B7u/0FIOMro/g4+sjq7HIYZigvXZqdZ6sSic+jBXzKggAAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,mIAAG;IAAE,OAAO;IAAM,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAwP","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/features/Header/Header.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"header\": \"Header-module__i0sbPG__header\",\n  \"inner\": \"Header-module__i0sbPG__inner\",\n  \"link\": \"Header-module__i0sbPG__link\",\n  \"linkLabel\": \"Header-module__i0sbPG__linkLabel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/lib/store/api/UserApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nconst BASE_URL = '/api/';\r\n\r\nexport interface User {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  phone?: string;\r\n  isActive: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  profile?: Profile;\r\n}\r\n\r\nexport interface Profile {\r\n  id: number;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  avatar?: string;\r\n  birthDate?: string;\r\n  gender?: 'MALE' | 'FEMALE' | 'OTHER';\r\n  deletedAt?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface UpdateUserData {\r\n  username?: string;\r\n  phone?: string;\r\n  isActive?: boolean;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  birthDate?: string;\r\n  gender?: 'MALE' | 'FEMALE' | 'OTHER';\r\n}\r\n\r\nexport interface UpdateProfileData {\r\n  firstName?: string;\r\n  lastName?: string;\r\n  avatar?: string;\r\n  birthDate?: string;\r\n  gender?: 'MALE' | 'FEMALE' | 'OTHER';\r\n}\r\n\r\nexport interface AuthorizedPayload<T> {\r\n  data: T;\r\n  accessToken: string;\r\n}\r\n\r\nexport interface AvatarUploadResponse {\r\n  file: any;\r\n  url: string;\r\n  profile: Profile;\r\n}\r\n\r\n// We rely on secure HTTP-only cookies; no JS access to token\r\n\r\nexport const userApi = createApi({\r\n  reducerPath: 'userApi',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: BASE_URL,\r\n    credentials: 'include',\r\n  }),\r\n  tagTypes: ['User', 'Profile'],\r\n  endpoints: (builder) => ({\r\n    getCurrentUser: builder.query<User, void>({\r\n      query: () => 'user/me',\r\n      providesTags: ['User'],\r\n    }),\r\n    \r\n    updateUser: builder.mutation<User, UpdateUserData>({\r\n      query: (userData) => ({\r\n        url: 'user/me',\r\n        method: 'PUT',\r\n        body: userData,\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n\r\n    // Same as updateUser, but explicitly sets Authorization header with a provided token\r\n    updateUserAuthorized: builder.mutation<User, AuthorizedPayload<UpdateUserData>>({\r\n      query: ({ data, accessToken }) => ({\r\n        url: 'user/me',\r\n        method: 'PUT',\r\n        body: data,\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n    \r\n    getProfile: builder.query<Profile, void>({\r\n      query: () => 'user/profile',\r\n      providesTags: ['Profile'],\r\n    }),\r\n    \r\n    updateProfile: builder.mutation<Profile, UpdateProfileData>({\r\n      query: (profileData) => ({\r\n        url: 'user/me',\r\n        method: 'PUT',\r\n        body: profileData,\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n\r\n    updateProfileAuthorized: builder.mutation<Profile, AuthorizedPayload<UpdateProfileData>>({\r\n      query: ({ data, accessToken }) => ({\r\n        url: 'user/me',\r\n        method: 'PUT',\r\n        body: data,\r\n        headers: { Authorization: `Bearer ${accessToken}` },\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n\r\n    deleteProfile: builder.mutation<{ message: string }, void>({\r\n      query: () => ({\r\n        url: 'user/profile',\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n\r\n    restoreProfile: builder.mutation<{ message: string }, void>({\r\n      query: () => ({\r\n        url: 'user/profile/restore',\r\n        method: 'POST',\r\n      }),\r\n      invalidatesTags: ['User', 'Profile'],\r\n    }),\r\n    \r\n    uploadAvatar: builder.mutation<AvatarUploadResponse, FormData>({\r\n      query: (formData) => ({\r\n        url: 'user/profile/avatar',\r\n        method: 'POST',\r\n        body: formData,\r\n      }),\r\n      invalidatesTags: ['Profile', 'User'],\r\n    }),\r\n    \r\n    getAvatar: builder.query<Blob, number>({\r\n      query: (fileId) => ({\r\n        url: `user/profile/avatar/${fileId}`,\r\n        responseHandler: (response) => response.blob(),\r\n      }),\r\n    }),\r\n    \r\n    deleteAvatar: builder.mutation<{ message: string }, number>({\r\n      query: (fileId) => ({\r\n        url: `user/profile/avatar/${fileId}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Profile', 'User'],\r\n    }),\r\n    \r\n    refreshAvatarUrl: builder.mutation<AvatarUploadResponse, { fileId: number; expiry?: number }>({\r\n      query: ({ fileId, expiry }) => ({\r\n        url: `user/profile/avatar/${fileId}/refresh-url${expiry ? `?expiry=${expiry}` : ''}`,\r\n        method: 'POST',\r\n      }),\r\n      invalidatesTags: ['Profile', 'User'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetCurrentUserQuery,\r\n  useUpdateUserMutation,\r\n  useUpdateUserAuthorizedMutation,\r\n  useGetProfileQuery,\r\n  useUpdateProfileMutation,\r\n  useUpdateProfileAuthorizedMutation,\r\n  useDeleteProfileMutation,\r\n  useRestoreProfileMutation,\r\n  useUploadAvatarMutation,\r\n  useGetAvatarQuery,\r\n  useDeleteAvatarMutation,\r\n  useRefreshAvatarUrlMutation,\r\n} = userApi;\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAEA,MAAM,WAAW;AAwDV,MAAM,UAAU,IAAA,kOAAS,EAAC;IAC/B,aAAa;IACb,WAAW,IAAA,qMAAc,EAAC;QACxB,SAAS;QACT,aAAa;IACf;IACA,UAAU;QAAC;QAAQ;KAAU;IAC7B,WAAW,CAAC,UAAY,CAAC;YACvB,gBAAgB,QAAQ,KAAK,CAAa;gBACxC,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAO;YACxB;YAEA,YAAY,QAAQ,QAAQ,CAAuB;gBACjD,OAAO,CAAC,WAAa,CAAC;wBACpB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,qFAAqF;YACrF,sBAAsB,QAAQ,QAAQ,CAA0C;gBAC9E,OAAO,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,GAAK,CAAC;wBACjC,KAAK;wBACL,QAAQ;wBACR,MAAM;wBACN,SAAS;4BAAE,eAAe,CAAC,OAAO,EAAE,aAAa;wBAAC;oBACpD,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,YAAY,QAAQ,KAAK,CAAgB;gBACvC,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAU;YAC3B;YAEA,eAAe,QAAQ,QAAQ,CAA6B;gBAC1D,OAAO,CAAC,cAAgB,CAAC;wBACvB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,yBAAyB,QAAQ,QAAQ,CAAgD;gBACvF,OAAO,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,GAAK,CAAC;wBACjC,KAAK;wBACL,QAAQ;wBACR,MAAM;wBACN,SAAS;4BAAE,eAAe,CAAC,OAAO,EAAE,aAAa;wBAAC;oBACpD,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,eAAe,QAAQ,QAAQ,CAA4B;gBACzD,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,gBAAgB,QAAQ,QAAQ,CAA4B;gBAC1D,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAU;YACtC;YAEA,cAAc,QAAQ,QAAQ,CAAiC;gBAC7D,OAAO,CAAC,WAAa,CAAC;wBACpB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;oBAAW;iBAAO;YACtC;YAEA,WAAW,QAAQ,KAAK,CAAe;gBACrC,OAAO,CAAC,SAAW,CAAC;wBAClB,KAAK,CAAC,oBAAoB,EAAE,QAAQ;wBACpC,iBAAiB,CAAC,WAAa,SAAS,IAAI;oBAC9C,CAAC;YACH;YAEA,cAAc,QAAQ,QAAQ,CAA8B;gBAC1D,OAAO,CAAC,SAAW,CAAC;wBAClB,KAAK,CAAC,oBAAoB,EAAE,QAAQ;wBACpC,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;oBAAW;iBAAO;YACtC;YAEA,kBAAkB,QAAQ,QAAQ,CAA4D;gBAC5F,OAAO,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,GAAK,CAAC;wBAC9B,KAAK,CAAC,oBAAoB,EAAE,OAAO,YAAY,EAAE,SAAS,CAAC,QAAQ,EAAE,QAAQ,GAAG,IAAI;wBACpF,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;oBAAW;iBAAO;YACtC;QACF,CAAC;AACH;AAEO,MAAM,EACX,sBAAsB,EACtB,qBAAqB,EACrB,+BAA+B,EAC/B,kBAAkB,EAClB,wBAAwB,EACxB,kCAAkC,EAClC,wBAAwB,EACxB,yBAAyB,EACzB,uBAAuB,EACvB,iBAAiB,EACjB,uBAAuB,EACvB,2BAA2B,EAC5B,GAAG","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/lib/store/api/AuthApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport interface RegisterData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface LoginData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface AuthResponse {\r\n  access_token: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    email: string;\r\n    phone?: string;\r\n    isActive: boolean;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n  };\r\n}\r\n\r\nexport interface ProfileResponse {\r\n  id: number;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  avatar?: string;\r\n  birthDate?: string;\r\n  gender?: 'MALE' | 'FEMALE' | 'OTHER';\r\n  deletedAt?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// We rely on secure HTTP-only cookies; no JS access to token\r\n\r\nexport const authApi = createApi({\r\n  reducerPath: 'authApi',\r\n  baseQuery: fetchBaseQuery({ \r\n    baseUrl: '/api/',\r\n    credentials: 'include',\r\n  }),\r\n  tagTypes: ['Auth'],\r\n  endpoints: (builder) => ({\r\n    register: builder.mutation<AuthResponse, RegisterData>({\r\n      query: (userData) => ({\r\n        url: 'auth/register',\r\n        method: 'POST',\r\n        body: userData,\r\n      }),\r\n      invalidatesTags: ['Auth'],\r\n    }),\r\n    login: builder.mutation<AuthResponse, LoginData>({\r\n      query: (credentials) => ({\r\n        url: 'auth/login', \r\n        method: 'POST',\r\n        body: credentials,\r\n      }),\r\n      invalidatesTags: ['Auth'],\r\n    }),\r\n    getAuthProfile: builder.query<ProfileResponse, void>({\r\n      query: () => 'auth/profile',\r\n      providesTags: ['Auth'],\r\n    }),\r\n    logout: builder.mutation<{ message: string }, void>({\r\n      query: () => ({\r\n        url: 'auth/logout',\r\n        method: 'POST',\r\n      }),\r\n      invalidatesTags: ['Auth'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { \r\n  useRegisterMutation, \r\n  useLoginMutation, \r\n  useGetAuthProfileQuery, \r\n  useLogoutMutation \r\n} = authApi;"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;;AAuCO,MAAM,UAAU,IAAA,kOAAS,EAAC;IAC/B,aAAa;IACb,WAAW,IAAA,qMAAc,EAAC;QACxB,SAAS;QACT,aAAa;IACf;IACA,UAAU;QAAC;KAAO;IAClB,WAAW,CAAC,UAAY,CAAC;YACvB,UAAU,QAAQ,QAAQ,CAA6B;gBACrD,OAAO,CAAC,WAAa,CAAC;wBACpB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,OAAO,QAAQ,QAAQ,CAA0B;gBAC/C,OAAO,CAAC,cAAgB,CAAC;wBACvB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,gBAAgB,QAAQ,KAAK,CAAwB;gBACnD,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAO;YACxB;YACA,QAAQ,QAAQ,QAAQ,CAA4B;gBAClD,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;QACF,CAAC;AACH;AAEO,MAAM,EACX,mBAAmB,EACnB,gBAAgB,EAChB,sBAAsB,EACtB,iBAAiB,EAClB,GAAG","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/components/features/Header/Header.tsx"],"sourcesContent":["\"use client\"\r\nimport { IconChevronDown } from '@tabler/icons-react';\r\nimport { Burger, Center, Container, Group, Menu } from '@mantine/core';\r\nimport { useDisclosure } from '@mantine/hooks';\r\nimport Logo from '../../../../public/Logo.png'\r\nimport classes from './Header.module.css';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { useMemo } from 'react';\r\nimport { useGetCurrentUserQuery } from '@/lib/store/api/UserApi';\r\nimport { useLogoutMutation } from '@/lib/store/api/AuthApi';\r\n\r\nconst links = [\r\n    { link: '/', label: 'Главная' },\r\n    { link: '/dashboard', label: 'Дашборд' },\r\n    { link: '/analytics', label: 'Аналитика' },\r\n    { link: '/login', label: 'Войти' },\r\n    { link: '/registration', label: 'Регистрация' },\r\n    { link: '/profile', label: 'Профиль' },\r\n];\r\n\r\nexport function Header() {\r\n    const { data: me, isSuccess, isLoading, isError } = useGetCurrentUserQuery();\r\n    const [logout] = useLogoutMutation();\r\n    const [opened, { toggle }] = useDisclosure(false);\r\n\r\n    const isAuth = useMemo(() => !!me || !!isSuccess, [me, isSuccess]);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logout().unwrap();\r\n        } catch {}\r\n        setIsAuth(false);\r\n        window.location.href = '/';\r\n    };\r\n\r\n    const visibleLinks = links.filter(link => {\r\n        if (isAuth) {\r\n            return link.label !== 'Войти' && link.label !== 'Регистрация';\r\n        } else {\r\n            return link.label !== 'Профиль';\r\n        }\r\n    });\r\n\r\n    const items = (isLoading && !isAuth) ? visibleLinks\r\n      .filter(l => l.label !== 'Профиль')\r\n      .map((link) => (\r\n        <Link key={link.label} href={link.link} className={classes.link}>\r\n            {link.label}\r\n        </Link>\r\n      ))\r\n      : visibleLinks.map((link) => {\r\n        if (link.label === 'Профиль') {\r\n            return (\r\n                <Menu key={link.label} trigger=\"hover\" transitionProps={{ exitDuration: 0 }} withinPortal>\r\n                    <Menu.Target>\r\n                        <a\r\n                            href=\"#\"\r\n                            className={classes.link}\r\n                            onClick={(event) => event.preventDefault()}\r\n                        >\r\n                            <Center>\r\n                                <span className={classes.linkLabel}>{me?.username || 'Профиль'}</span>\r\n                                <IconChevronDown size={14} stroke={1.5} />\r\n                            </Center>\r\n                        </a>\r\n                    </Menu.Target>\r\n                    <Menu.Dropdown>\r\n                        <Menu.Item onClick={() => window.location.href = '/profile'}>Профиль</Menu.Item>\r\n                        <Menu.Item onClick={handleLogout}>Выйти</Menu.Item>\r\n                    </Menu.Dropdown>\r\n                </Menu>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Link\r\n                key={link.label}\r\n                href={link.link}\r\n                className={classes.link}\r\n            >\r\n                {link.label}\r\n            </Link>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <Container size=\"md\">\r\n                <div className={classes.inner}>\r\n                    <Link href=\"/\" style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <Image\r\n                            src={Logo}\r\n                            width={100}\r\n                            height={30}\r\n                            alt=\"Logo\"\r\n                            style={{ cursor: 'pointer' }}\r\n                        />\r\n                    </Link>\r\n                    <Group gap={5} visibleFrom=\"sm\">\r\n                        {items}\r\n                    </Group>\r\n                    <Burger opened={opened} onClick={toggle} size=\"sm\" hiddenFrom=\"sm\" />\r\n                </div>\r\n            </Container>\r\n        </header>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAVA;;;;;;;;;;;AAYA,MAAM,QAAQ;IACV;QAAE,MAAM;QAAK,OAAO;IAAU;IAC9B;QAAE,MAAM;QAAc,OAAO;IAAU;IACvC;QAAE,MAAM;QAAc,OAAO;IAAY;IACzC;QAAE,MAAM;QAAU,OAAO;IAAQ;IACjC;QAAE,MAAM;QAAiB,OAAO;IAAc;IAC9C;QAAE,MAAM;QAAY,OAAO;IAAU;CACxC;AAEM,SAAS;;IACZ,MAAM,EAAE,MAAM,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,kKAAsB;IAC1E,MAAM,CAAC,OAAO,GAAG,IAAA,6JAAiB;IAClC,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC,GAAG,IAAA,wMAAa,EAAC;IAE3C,MAAM,SAAS,IAAA,wKAAO;kCAAC,IAAM,CAAC,CAAC,MAAM,CAAC,CAAC;iCAAW;QAAC;QAAI;KAAU;IAEjE,MAAM,eAAe;QACjB,IAAI;YACA,MAAM,SAAS,MAAM;QACzB,EAAE,OAAM,CAAC;QACT,UAAU;QACV,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IAEA,MAAM,eAAe,MAAM,MAAM,CAAC,CAAA;QAC9B,IAAI,QAAQ;YACR,OAAO,KAAK,KAAK,KAAK,WAAW,KAAK,KAAK,KAAK;QACpD,OAAO;YACH,OAAO,KAAK,KAAK,KAAK;QAC1B;IACJ;IAEA,MAAM,QAAQ,AAAC,aAAa,CAAC,SAAU,aACpC,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,WACxB,GAAG,CAAC,CAAC,qBACJ,6LAAC,0KAAI;YAAkB,MAAM,KAAK,IAAI;YAAE,WAAW,2KAAO,CAAC,IAAI;sBAC1D,KAAK,KAAK;WADJ,KAAK,KAAK;;;;oBAIrB,aAAa,GAAG,CAAC,CAAC;QAClB,IAAI,KAAK,KAAK,KAAK,WAAW;YAC1B,qBACI,6LAAC,kLAAI;gBAAkB,SAAQ;gBAAQ,iBAAiB;oBAAE,cAAc;gBAAE;gBAAG,YAAY;;kCACrF,6LAAC,kLAAI,CAAC,MAAM;kCACR,cAAA,6LAAC;4BACG,MAAK;4BACL,WAAW,2KAAO,CAAC,IAAI;4BACvB,SAAS,CAAC,QAAU,MAAM,cAAc;sCAExC,cAAA,6LAAC,wLAAM;;kDACH,6LAAC;wCAAK,WAAW,2KAAO,CAAC,SAAS;kDAAG,IAAI,YAAY;;;;;;kDACrD,6LAAC,0PAAe;wCAAC,MAAM;wCAAI,QAAQ;;;;;;;;;;;;;;;;;;;;;;kCAI/C,6LAAC,kLAAI,CAAC,QAAQ;;0CACV,6LAAC,kLAAI,CAAC,IAAI;gCAAC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;0CAAY;;;;;;0CAC7D,6LAAC,kLAAI,CAAC,IAAI;gCAAC,SAAS;0CAAc;;;;;;;;;;;;;eAf/B,KAAK,KAAK;;;;;QAmB7B;QAEA,qBACI,6LAAC,0KAAI;YAED,MAAM,KAAK,IAAI;YACf,WAAW,2KAAO,CAAC,IAAI;sBAEtB,KAAK,KAAK;WAJN,KAAK,KAAK;;;;;IAO3B;IAEA,qBACI,6LAAC;QAAO,WAAW,2KAAO,CAAC,MAAM;kBAC7B,cAAA,6LAAC,iMAAS;YAAC,MAAK;sBACZ,cAAA,6LAAC;gBAAI,WAAW,2KAAO,CAAC,KAAK;;kCACzB,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,YAAY;wBAAS;kCAC1D,cAAA,6LAAC,2IAAK;4BACF,KAAK,4SAAI;4BACT,OAAO;4BACP,QAAQ;4BACR,KAAI;4BACJ,OAAO;gCAAE,QAAQ;4BAAU;;;;;;;;;;;kCAGnC,6LAAC,qLAAK;wBAAC,KAAK;wBAAG,aAAY;kCACtB;;;;;;kCAEL,6LAAC,wLAAM;wBAAC,QAAQ;wBAAQ,SAAS;wBAAQ,MAAK;wBAAK,YAAW;;;;;;;;;;;;;;;;;;;;;;AAKlF;GAtFgB;;QACwC,kKAAsB;QACzD,6JAAiB;QACL,wMAAa;;;KAH9B","debugId":null}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/lib/store/api/AiApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport interface FinancialAdviceRequest {\r\n  prompt: string;\r\n}\r\n\r\nexport interface FinancialAdviceResponse {\r\n  advice: string;\r\n  recommendationId: number;\r\n  timestamp?: string;\r\n}\r\n\r\nexport interface Recommendation {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  isRead: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface GetRecommendationsParams {\r\n  isRead?: boolean;\r\n}\r\n\r\nexport const aiApi = createApi({\r\n  reducerPath: 'aiApi',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: '/api/',\r\n    credentials: 'include',\r\n  }),\r\n  tagTypes: ['FinancialAdvice', 'Recommendations'],\r\n  endpoints: (builder) => ({\r\n    getFinancialAdvice: builder.mutation<FinancialAdviceResponse, FinancialAdviceRequest>({\r\n      query: (data) => ({\r\n        url: 'ai/financial-advice',\r\n        method: 'POST',\r\n        body: data,\r\n      }),\r\n      invalidatesTags: ['FinancialAdvice', 'Recommendations'],\r\n    }),\r\n    \r\n    getRecommendations: builder.query<Recommendation[], GetRecommendationsParams | void>({\r\n      query: (params) => {\r\n        const searchParams = new URLSearchParams();\r\n        if (params?.isRead !== undefined) {\r\n          searchParams.append('isRead', String(params.isRead));\r\n        }\r\n        const queryString = searchParams.toString();\r\n        return `ai/recommendations${queryString ? `?${queryString}` : ''}`;\r\n      },\r\n      providesTags: ['Recommendations'],\r\n    }),\r\n    \r\n    markRecommendationAsRead: builder.mutation<Recommendation, number>({\r\n      query: (id) => ({\r\n        url: `ai/recommendations/${id}/read`,\r\n        method: 'POST',\r\n      }),\r\n      invalidatesTags: ['Recommendations'],\r\n    }),\r\n    \r\n    deleteAllRecommendations: builder.mutation<{ message: string }, void>({\r\n      query: () => ({\r\n        url: 'ai/recommendations',\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Recommendations'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetFinancialAdviceMutation,\r\n  useGetRecommendationsQuery,\r\n  useMarkRecommendationAsReadMutation,\r\n  useDeleteAllRecommendationsMutation,\r\n} = aiApi;\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;;AAyBO,MAAM,QAAQ,IAAA,kOAAS,EAAC;IAC7B,aAAa;IACb,WAAW,IAAA,qMAAc,EAAC;QACxB,SAAS;QACT,aAAa;IACf;IACA,UAAU;QAAC;QAAmB;KAAkB;IAChD,WAAW,CAAC,UAAY,CAAC;YACvB,oBAAoB,QAAQ,QAAQ,CAAkD;gBACpF,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;oBAAmB;iBAAkB;YACzD;YAEA,oBAAoB,QAAQ,KAAK,CAAoD;gBACnF,OAAO,CAAC;oBACN,MAAM,eAAe,IAAI;oBACzB,IAAI,QAAQ,WAAW,WAAW;wBAChC,aAAa,MAAM,CAAC,UAAU,OAAO,OAAO,MAAM;oBACpD;oBACA,MAAM,cAAc,aAAa,QAAQ;oBACzC,OAAO,CAAC,kBAAkB,EAAE,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG,IAAI;gBACpE;gBACA,cAAc;oBAAC;iBAAkB;YACnC;YAEA,0BAA0B,QAAQ,QAAQ,CAAyB;gBACjE,OAAO,CAAC,KAAO,CAAC;wBACd,KAAK,CAAC,mBAAmB,EAAE,GAAG,KAAK,CAAC;wBACpC,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;iBAAkB;YACtC;YAEA,0BAA0B,QAAQ,QAAQ,CAA4B;gBACpE,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;iBAAkB;YACtC;QACF,CAAC;AACH;AAEO,MAAM,EACX,6BAA6B,EAC7B,0BAA0B,EAC1B,mCAAmC,EACnC,mCAAmC,EACpC,GAAG","debugId":null}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/lib/store/Index.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport { authApi } from './api/AuthApi';\nimport { userApi } from './api/UserApi';\nimport { aiApi } from './api/AiApi';\n\nexport const store = configureStore({\n  reducer: {\n    [authApi.reducerPath]: authApi.reducer,\n    [userApi.reducerPath]: userApi.reducer,\n    [aiApi.reducerPath]: aiApi.reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(authApi.middleware, userApi.middleware, aiApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS;QACP,CAAC,mJAAO,CAAC,WAAW,CAAC,EAAE,mJAAO,CAAC,OAAO;QACtC,CAAC,mJAAO,CAAC,WAAW,CAAC,EAAE,mJAAO,CAAC,OAAO;QACtC,CAAC,+IAAK,CAAC,WAAW,CAAC,EAAE,+IAAK,CAAC,OAAO;IACpC;IACA,YAAY,CAAC,uBACX,uBAAuB,MAAM,CAAC,mJAAO,CAAC,UAAU,EAAE,mJAAO,CAAC,UAAU,EAAE,+IAAK,CAAC,UAAU;AAC1F","debugId":null}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/app/providers.tsx"],"sourcesContent":["'use client';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from '@/lib/store/Index';\r\nimport { MantineProvider, createTheme } from '@mantine/core';\r\nimport { Notifications } from '@mantine/notifications';\r\n\r\nconst theme = createTheme({\r\n  fontFamily: 'var(--font-inter), -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\r\n  headings: {\r\n    fontFamily: 'var(--font-inter), sans-serif',\r\n    fontWeight: '700',\r\n  },\r\n  defaultRadius: 'md',\r\n});\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <MantineProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <Notifications position=\"top-center\" />\r\n        {children}\r\n      </Provider>\r\n    </MantineProvider>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;AAJA;;;;;;AAMA,MAAM,QAAQ,IAAA,4NAAW,EAAC;IACxB,YAAY;IACZ,UAAU;QACR,YAAY;QACZ,YAAY;IACd;IACA,eAAe;AACjB;AAEO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,6MAAe;QAAC,OAAO;kBACtB,cAAA,6LAAC,wKAAQ;YAAC,OAAO,wIAAK;;8BACpB,6LAAC,uLAAa;oBAAC,UAAS;;;;;;gBACvB;;;;;;;;;;;;AAIT;KATgB","debugId":null}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/features/AiChat/AiChat.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"bubble\": \"AiChat-module__VUR-sW__bubble\",\n  \"bubbleContainer\": \"AiChat-module__VUR-sW__bubbleContainer\",\n  \"chatHeader\": \"AiChat-module__VUR-sW__chatHeader\",\n  \"chatPaper\": \"AiChat-module__VUR-sW__chatPaper\",\n  \"inputArea\": \"AiChat-module__VUR-sW__inputArea\",\n  \"messagesArea\": \"AiChat-module__VUR-sW__messagesArea\",\n  \"modalContent\": \"AiChat-module__VUR-sW__modalContent\",\n  \"modalOverlay\": \"AiChat-module__VUR-sW__modalOverlay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/components/features/AiChat/AiChat.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { \n  ActionIcon, \n  Textarea, \n  Button, \n  Paper, \n  Text, \n  ScrollArea, \n  Group, \n  Stack,\n  Loader,\n  Box,\n  Badge\n} from '@mantine/core';\nimport { \n  IconMessageCircle, \n  IconX, \n  IconMinus, \n  IconMaximize,\n  IconSend,\n  IconRobot,\n  IconUser\n} from '@tabler/icons-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  useGetFinancialAdviceMutation,\n  useGetRecommendationsQuery,\n  useMarkRecommendationAsReadMutation,\n  useDeleteAllRecommendationsMutation,\n  type Recommendation\n} from '@/lib/store/api/AiApi';\nimport { notifications } from '@mantine/notifications';\nimport classes from './AiChat.module.css';\nimport { useGetCurrentUserQuery } from '@/lib/store/api/UserApi';\n\ninterface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: Date;\n  recommendationId?: number;\n  isRead?: boolean;\n}\n\nconst STORAGE_KEY = 'ai-chat-history';\n\nexport function AiChat() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [getFinancialAdvice] = useGetFinancialAdviceMutation();\n  const [markAsRead] = useMarkRecommendationAsReadMutation();\n  const [deleteAllRecommendations] = useDeleteAllRecommendationsMutation();\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const scrollViewportRef = useRef<HTMLDivElement>(null);\n  const readMessagesRef = useRef<Set<number>>(new Set());\n  const [isClearing, setIsClearing] = useState(false);\n  \n  // Check if user is authenticated\n  const { isSuccess: isAuthenticated } = useGetCurrentUserQuery();\n  \n  // Load recommendations from API (always when authenticated, to show unread count)\n  const { data: recommendations, refetch: refetchRecommendations } = useGetRecommendationsQuery(\n    undefined,\n    { skip: !isAuthenticated }\n  );\n\n  // Convert recommendations to chat messages\n  const convertRecommendationsToMessages = useCallback((recs: Recommendation[]): ChatMessage[] => {\n    return recs\n      .sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime())\n      .map((rec) => ({\n        id: `rec-${rec.id}`,\n        role: 'assistant' as const,\n        content: rec.content,\n        timestamp: new Date(rec.createdAt),\n        recommendationId: rec.id,\n        isRead: rec.isRead,\n      }));\n  }, []);\n\n  // Load user questions from localStorage (only user messages, not AI responses)\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        const userMessages = parsed\n          .filter((msg: any) => msg.role === 'user')\n          .map((msg: any) => ({\n            ...msg,\n            timestamp: new Date(msg.timestamp)\n          }));\n        setMessages((prev) => {\n          // Merge with recommendations, but keep user messages from localStorage\n          const existingIds = new Set(prev.map(m => m.id));\n          return [...prev, ...userMessages.filter((m: ChatMessage) => !existingIds.has(m.id))];\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load chat history:', error);\n    }\n  }, []);\n\n  // Load recommendations when authenticated (for unread count and chat history)\n  useEffect(() => {\n    if (isAuthenticated && recommendations) {\n      const recMessages = convertRecommendationsToMessages(recommendations);\n      setMessages((prev) => {\n        // Create a map of existing messages by recommendationId (for assistant messages)\n        // and by id (for all messages)\n        const existingById = new Map(prev.map(m => [m.id, m]));\n        const existingByRecId = new Map<number, ChatMessage>();\n        prev.forEach(m => {\n          if (m.recommendationId) {\n            existingByRecId.set(m.recommendationId, m);\n          }\n        });\n\n        // Filter out recommendations that already exist\n        const newRecMessages = recMessages.filter(m => \n          !existingById.has(m.id) && \n          (!m.recommendationId || !existingByRecId.has(m.recommendationId))\n        );\n        \n        // Update existing recommendations with latest data (e.g., isRead status)\n        const updated = prev.map(m => {\n          if (m.recommendationId) {\n            const rec = recommendations.find(r => r.id === m.recommendationId);\n            if (rec) {\n              return { ...m, isRead: rec.isRead, content: rec.content };\n            }\n          }\n          return m;\n        });\n        \n        // Combine and sort by timestamp\n        const combined = [...updated, ...newRecMessages];\n        return combined.sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime());\n      });\n    }\n  }, [isAuthenticated, recommendations, convertRecommendationsToMessages]);\n\n  // Calculate unread count\n  const unreadCount = messages.filter(\n    msg => msg.role === 'assistant' && !msg.isRead && msg.recommendationId\n  ).length;\n\n  // Save only user messages to localStorage\n  useEffect(() => {\n    const userMessages = messages.filter(msg => msg.role === 'user');\n    if (userMessages.length > 0) {\n      try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(userMessages));\n      } catch (error) {\n        console.error('Failed to save chat history:', error);\n      }\n    }\n  }, [messages]);\n\n  // Handle scroll to mark messages as read\n  useEffect(() => {\n    if (!scrollViewportRef.current || !isAuthenticated || !isOpen) return;\n\n    const viewport = scrollViewportRef.current;\n    let scrollTimeout: NodeJS.Timeout;\n    \n    const handleScroll = () => {\n      // Debounce scroll events\n      clearTimeout(scrollTimeout);\n      scrollTimeout = setTimeout(() => {\n        const scrollTop = viewport.scrollTop;\n        const clientHeight = viewport.clientHeight;\n        const scrollHeight = viewport.scrollHeight;\n\n        // Check if scrolled to bottom (with 50px threshold)\n        if (scrollHeight - scrollTop - clientHeight < 50) {\n          // Find unread messages with recommendationId\n          const unreadMessages = messages.filter(\n            msg => msg.role === 'assistant' && \n            msg.recommendationId && \n            !msg.isRead &&\n            !readMessagesRef.current.has(msg.recommendationId)\n          );\n\n          // Mark all visible unread messages as read\n          if (unreadMessages.length > 0) {\n            Promise.all(\n              unreadMessages.map(async (msg) => {\n                if (msg.recommendationId && !readMessagesRef.current.has(msg.recommendationId)) {\n                  readMessagesRef.current.add(msg.recommendationId);\n                  try {\n                    await markAsRead(msg.recommendationId).unwrap();\n                    return msg.id;\n                  } catch (error) {\n                    console.error('Failed to mark message as read:', error);\n                    readMessagesRef.current.delete(msg.recommendationId);\n                    return null;\n                  }\n                }\n                return null;\n              })\n            ).then((markedIds) => {\n              // Update messages that were successfully marked as read\n              const successIds = markedIds.filter(id => id !== null) as string[];\n              if (successIds.length > 0) {\n                setMessages((prev) =>\n                  prev.map((m) =>\n                    successIds.includes(m.id) ? { ...m, isRead: true } : m\n                  )\n                );\n                // Refetch recommendations to update the list\n                refetchRecommendations();\n              }\n            });\n          }\n        }\n      }, 300); // 300ms debounce\n    };\n\n    viewport.addEventListener('scroll', handleScroll, { passive: true });\n    return () => {\n      clearTimeout(scrollTimeout);\n      viewport.removeEventListener('scroll', handleScroll);\n    };\n  }, [messages, isAuthenticated, isOpen, markAsRead, refetchRecommendations]);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim() || isLoading || !isAuthenticated) {\n      if (!isAuthenticated) {\n        notifications.show({\n          color: 'yellow',\n          title: 'Требуется авторизация',\n          message: 'Пожалуйста, войдите в систему для использования AI помощника',\n        });\n      }\n      return;\n    }\n\n    const userMessage: ChatMessage = {\n      id: `user-${Date.now()}`,\n      role: 'user',\n      content: input.trim(),\n      timestamp: new Date(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    const prompt = input.trim();\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const response = await getFinancialAdvice({ prompt }).unwrap();\n      \n      const assistantMessage: ChatMessage = {\n        id: `assistant-${Date.now()}`,\n        role: 'assistant',\n        content: response.advice || 'Извините, не удалось получить ответ.',\n        timestamp: new Date(),\n        recommendationId: response.recommendationId,\n        isRead: false, // New messages are unread by default\n      };\n\n      setMessages((prev) => [...prev, assistantMessage]);\n      \n      // Refetch recommendations to get updated list\n      refetchRecommendations();\n    } catch (error: any) {\n      console.error('Error getting financial advice:', error);\n      \n      let errorMessage = 'Не удалось получить финансовый совет';\n      let showInChat = false;\n      \n      // Если есть сообщение от сервера, используем его\n      if (error?.data?.message) {\n        errorMessage = error.data.message;\n        // Показываем сообщение в чате, если это бизнес-логика (например, нет транзакций)\n        showInChat = true;\n      } else if (error?.status === 401) {\n        errorMessage = 'Требуется авторизация. Пожалуйста, войдите в систему.';\n      } else if (error?.status === 404 && !error?.data?.message) {\n        // Только если это настоящая 404 без сообщения\n        errorMessage = 'Эндпоинт не найден. Убедитесь, что сервер запущен и перезапустите dev сервер.';\n      } else if (error?.status === 500) {\n        errorMessage = 'Ошибка сервера. Попробуйте позже.';\n        showInChat = true;\n      }\n\n      // Показываем уведомление\n      notifications.show({\n        color: error?.status === 404 && error?.data?.message ? 'yellow' : 'red',\n        title: error?.status === 404 && error?.data?.message ? 'Информация' : 'Ошибка',\n        message: errorMessage,\n      });\n      \n      // Показываем сообщение в чате, если это бизнес-логика или ошибка сервера\n      if (showInChat || (error?.status !== 401 && error?.status !== 404)) {\n        const errorMsg: ChatMessage = {\n          id: `error-${Date.now()}`,\n          role: 'assistant',\n          content: errorMessage,\n          timestamp: new Date(),\n        };\n\n        setMessages((prev) => [...prev, errorMsg]);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleClearHistory = async () => {\n    if (isClearing) return;\n    if (!isAuthenticated) {\n      setMessages([]);\n      localStorage.removeItem(STORAGE_KEY);\n      notifications.show({\n        color: 'blue',\n        title: 'История очищена',\n        message: 'Локальная история чата была удалена',\n      });\n      return;\n    }\n\n    try {\n      setIsClearing(true);\n      // Optimistic UI: clear assistant messages immediately\n      setMessages((prev) => prev.filter(msg => msg.role === 'user'));\n      await deleteAllRecommendations().unwrap();\n      localStorage.removeItem(STORAGE_KEY);\n      notifications.show({\n        color: 'blue',\n        title: 'История очищена',\n        message: 'Все советы были удалены',\n      });\n      refetchRecommendations();\n    } catch (error: any) {\n      notifications.show({\n        color: 'red',\n        title: 'Ошибка',\n        message: error?.data?.message || 'Не удалось удалить рекомендации',\n      });\n      // Подтянем актуальное состояние с сервера\n      refetchRecommendations();\n    } finally {\n      setIsClearing(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  return (\n    <>\n      {/* Floating Bubble Button */}\n      <AnimatePresence>\n        {!isOpen && (\n          <motion.div\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            transition={{ type: 'spring', stiffness: 260, damping: 20 }}\n            className={classes.bubbleContainer}\n          >\n            <ActionIcon\n              size={60}\n              radius=\"xl\"\n              variant=\"gradient\"\n              gradient={{ from: '#1e3a8a', to: '#3b82f6' }}\n              onClick={() => setIsOpen(true)}\n              className={classes.bubble}\n              style={{ position: 'relative' }}\n            >\n              <IconMessageCircle size={28} />\n              {unreadCount > 0 && isAuthenticated && (\n                <Badge\n                  size=\"lg\"\n                  circle\n                  color=\"red\"\n                  variant=\"filled\"\n                  style={{\n                    position: 'absolute',\n                    top: -4,\n                    right: -4,\n                    minWidth: 24,\n                    height: 24,\n                    padding: 0,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: 12,\n                    fontWeight: 700,\n                  }}\n                >\n                  {unreadCount > 9 ? '9+' : unreadCount}\n                </Badge>\n              )}\n            </ActionIcon>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Chat Modal */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className={classes.modalOverlay}\n            onClick={() => !isMinimized && setIsOpen(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.8, y: 20, opacity: 0 }}\n              animate={{ \n                scale: isMinimized ? 0.95 : 1,\n                y: isMinimized ? 40 : 0,\n                opacity: 1,\n              }}\n              exit={{ scale: 0.8, y: 20, opacity: 0 }}\n              transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n              onClick={(e) => e.stopPropagation()}\n              className={classes.modalContent}\n            >\n              <Paper\n                shadow=\"xl\"\n                radius=\"md\"\n                className={classes.chatPaper}\n                style={{ height: isMinimized ? 'auto' : '600px', minHeight: isMinimized ? 'auto' : '600px' }}\n              >\n                {/* Header */}\n                <Group justify=\"space-between\" p=\"md\" className={classes.chatHeader}>\n                  <Group gap=\"xs\">\n                    <IconRobot size={24} color=\"#1e3a8a\" />\n                    <div>\n                      <Text fw={600} size=\"lg\">Финансовый помощник</Text>\n                      <Text size=\"xs\" c=\"dimmed\">AI консультант</Text>\n                    </div>\n                  </Group>\n                  <Group gap=\"xs\">\n                    {!isMinimized && messages.length > 0 && (\n                      <Button\n                        size=\"xs\"\n                        variant=\"subtle\"\n                        onClick={handleClearHistory}\n                        disabled={isClearing}\n                      >\n                        Очистить\n                      </Button>\n                    )}\n                    <ActionIcon\n                      variant=\"subtle\"\n                      onClick={() => setIsMinimized(!isMinimized)}\n                      title={isMinimized ? 'Развернуть' : 'Свернуть'}\n                    >\n                      {isMinimized ? <IconMaximize size={18} /> : <IconMinus size={18} />}\n                    </ActionIcon>\n                    <ActionIcon\n                      variant=\"subtle\"\n                      onClick={() => setIsOpen(false)}\n                    >\n                      <IconX size={18} />\n                    </ActionIcon>\n                  </Group>\n                </Group>\n\n                {!isMinimized && (\n                  <>\n                    {/* Messages Area */}\n                    <ScrollArea \n                      h={400} \n                      p=\"md\" \n                      ref={scrollAreaRef}\n                      viewportRef={scrollViewportRef}\n                      className={classes.messagesArea}\n                    >\n                      <Stack gap=\"md\">\n                        {messages.length === 0 ? (\n                          <Box ta=\"center\" py=\"xl\">\n                            <IconRobot size={48} color=\"#1e3a8a\" style={{ opacity: 0.3 }} />\n                            <Text c=\"dimmed\" mt=\"md\">\n                              {isAuthenticated \n                                ? 'Задайте вопрос о финансах, и я помогу вам!'\n                                : 'Войдите в систему, чтобы использовать AI помощника'}\n                            </Text>\n                          </Box>\n                        ) : (\n                          messages.map((message) => (\n                            <motion.div\n                              key={message.id}\n                              initial={{ opacity: 0, y: 10 }}\n                              animate={{ opacity: 1, y: 0 }}\n                              transition={{ duration: 0.2 }}\n                            >\n                              <Group\n                                align=\"flex-start\"\n                                gap=\"sm\"\n                                style={{\n                                  flexDirection: message.role === 'user' ? 'row-reverse' : 'row',\n                                }}\n                              >\n                                <Paper\n                                  p=\"md\"\n                                  radius=\"md\"\n                                  style={{\n                                    maxWidth: '80%',\n                                    background:\n                                      message.role === 'user'\n                                        ? 'linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)'\n                                        : undefined,\n                                    color: message.role === 'user' ? 'white' : 'inherit',\n                                    border: message.role === 'assistant' && !message.isRead ? '2px solid #3b82f6' : undefined,\n                                  }}\n                                  bg={message.role === 'user' ? undefined : 'gray.1'}\n                                >\n                                  <Group gap=\"xs\" mb=\"xs\" justify=\"space-between\">\n                                    <Group gap=\"xs\">\n                                      {message.role === 'user' ? (\n                                        <IconUser size={16} />\n                                      ) : (\n                                        <IconRobot size={16} />\n                                      )}\n                                      <Text size=\"xs\" fw={500}>\n                                        {message.role === 'user' ? 'Вы' : 'AI Помощник'}\n                                      </Text>\n                                    </Group>\n                                    {message.role === 'assistant' && !message.isRead && (\n                                      <Badge size=\"xs\" color=\"blue\" variant=\"light\">\n                                        Новое\n                                      </Badge>\n                                    )}\n                                  </Group>\n                                  <Text size=\"sm\" style={{ whiteSpace: 'pre-wrap' }}>\n                                    {message.content}\n                                  </Text>\n                                </Paper>\n                              </Group>\n                            </motion.div>\n                          ))\n                        )}\n                        {isLoading && (\n                          <Group align=\"flex-start\" gap=\"sm\">\n                            <Paper p=\"md\" radius=\"md\" bg=\"gray.1\">\n                              <Group gap=\"xs\">\n                                <Loader size=\"sm\" />\n                                <Text size=\"sm\" c=\"dimmed\">Думаю...</Text>\n                              </Group>\n                            </Paper>\n                          </Group>\n                        )}\n                        <div ref={messagesEndRef} />\n                      </Stack>\n                    </ScrollArea>\n\n                    {/* Input Area */}\n                    <Box p=\"md\" className={classes.inputArea}>\n                      <Group gap=\"sm\" align=\"flex-end\">\n                        <Textarea\n                          placeholder={isAuthenticated ? \"Задайте вопрос о финансах...\" : \"Войдите в систему для использования\"}\n                          value={input}\n                          onChange={(e) => setInput(e.target.value)}\n                          onKeyDown={handleKeyPress}\n                          minRows={1}\n                          maxRows={4}\n                          autosize\n                          style={{ flex: 1 }}\n                          disabled={isLoading || !isAuthenticated}\n                        />\n                        <Button\n                          onClick={handleSend}\n                          disabled={!input.trim() || isLoading || !isAuthenticated}\n                          variant=\"gradient\"\n                          gradient={{ from: '#1e3a8a', to: '#3b82f6' }}\n                          leftSection={<IconSend size={18} />}\n                        >\n                          Отправить\n                        </Button>\n                      </Group>\n                    </Box>\n                  </>\n                )}\n              </Paper>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1684, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%A0%D1%83%D1%81%D0%BB%D0%B0%D0%BD/Desktop/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/multibank-frontend/src/components/features/Footer/Footer.tsx"],"sourcesContent":["\"use client\";\r\nimport { Container, Group, Text, Anchor, ActionIcon } from '@mantine/core';\r\nimport Link from 'next/link';\r\n\r\nexport function Footer() {\r\n  return (\r\n    <footer style={{\r\n      borderTop: '1px solid var(--mantine-color-gray-3)',\r\n      background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\r\n    }}>\r\n      <Container size=\"md\" style={{ paddingTop: 16, paddingBottom: 16 }}>\r\n        <Group justify=\"space-between\" wrap=\"nowrap\">\r\n          <Text size=\"sm\" c=\"dimmed\">© {new Date().getFullYear()} Multibank</Text>\r\n          <Group gap=\"md\">\r\n            <Anchor component={Link} href=\"/\" c=\"dimmed\" size=\"sm\">Главная</Anchor>\r\n            <Anchor component={Link} href=\"/dashboard\" c=\"dimmed\" size=\"sm\">Дашборд</Anchor>\r\n            <Anchor component={Link} href=\"/analytics\" c=\"dimmed\" size=\"sm\">Аналитика</Anchor>\r\n            <Anchor component={Link} href=\"/profile\" c=\"dimmed\" size=\"sm\">Профиль</Anchor>\r\n          </Group>\r\n        </Group>\r\n      </Container>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AACA;AAFA;;;;AAIO,SAAS;IACd,qBACE,6LAAC;QAAO,OAAO;YACb,WAAW;YACX,YAAY;QACd;kBACE,cAAA,6LAAC,iMAAS;YAAC,MAAK;YAAK,OAAO;gBAAE,YAAY;gBAAI,eAAe;YAAG;sBAC9D,cAAA,6LAAC,qLAAK;gBAAC,SAAQ;gBAAgB,MAAK;;kCAClC,6LAAC,kLAAI;wBAAC,MAAK;wBAAK,GAAE;;4BAAS;4BAAG,IAAI,OAAO,WAAW;4BAAG;;;;;;;kCACvD,6LAAC,qLAAK;wBAAC,KAAI;;0CACT,6LAAC,wLAAM;gCAAC,WAAW,0KAAI;gCAAE,MAAK;gCAAI,GAAE;gCAAS,MAAK;0CAAK;;;;;;0CACvD,6LAAC,wLAAM;gCAAC,WAAW,0KAAI;gCAAE,MAAK;gCAAa,GAAE;gCAAS,MAAK;0CAAK;;;;;;0CAChE,6LAAC,wLAAM;gCAAC,WAAW,0KAAI;gCAAE,MAAK;gCAAa,GAAE;gCAAS,MAAK;0CAAK;;;;;;0CAChE,6LAAC,wLAAM;gCAAC,WAAW,0KAAI;gCAAE,MAAK;gCAAW,GAAE;gCAAS,MAAK;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM1E;KAnBgB","debugId":null}}]
}