{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vchug/OneDrive/Desktop/vtb-front/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport {\n  Container,\n  Grid,\n  Card,\n  Text,\n  Group,\n  Stack,\n  Badge,\n  Button,\n  Title,\n  Loader,\n  Center,\n  Alert,\n  TextInput,\n} from '@mantine/core';\nimport {\n  IconTrendingUp,\n  IconArrowUpRight,\n  IconArrowDownRight,\n  IconChevronDown,\n  IconChevronUp,\n  IconHistory,\n  IconRotateClockwise,\n  IconSearch,\n  IconAlertCircle,\n} from '@tabler/icons-react';\nimport { notifications } from '@mantine/notifications';\nimport {\n  useGetBanksQuery,\n  useBankConsentMutation,\n  useLazyGetBankConsentStatusQuery,\n  useGetBankOverviewQuery,\n  useSyncBanksMutation,\n  useLazyGetAccountTransactionsQuery,\n  Transaction,\n} from '@/lib/store/api/AuthApi';\nimport StatisticsChart from './StatisticsChart';\n\nconst PAGE_STYLES = {\n  background: '#F5F7FA',\n  cardBackground: '#FFFFFF',\n  paperBackground: '#F8F9FA',\n  buttonBlue: '#1E90FF',\n  successGreen: '#28a745',\n  accentPurple: '#9C27B0',\n  accentOrange: '#FF6B35',\n  textPrimary: '#1A1A1A',\n  textSecondary: '#6C757D',\n  borderColor: '#E0E0E0',\n} as const;\n\nconst formatBalance = (balance: string | number | undefined | null, currency: string = 'RUB'): string => {\n  if (balance === undefined || balance === null || balance === '') {\n    return '0.00';\n  }\n  const num = typeof balance === 'string' ? parseFloat(balance) : balance;\n  if (isNaN(num)) {\n    return '0.00';\n  }\n  return num.toLocaleString('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' ' + currency;\n};\n\nconst getBankDisplayName = (bankId: string): string => {\n  const bankNames: Record<string, string> = {\n    vbank: 'ВТБ',\n    sbank: 'Сбербанк',\n    abank: 'Альфа-Банк',\n  };\n  return bankNames[bankId] || bankId;\n};\n\nexport default function Dashboard() {\n  const [consentModalOpen, setConsentModalOpen] = useState(false);\n  const [selectedBank, setSelectedBank] = useState<string | null>(null);\n  const [clientId, setClientId] = useState('');\n  const [consentRequestId, setConsentRequestId] = useState<string | null>(null);\n  const [bankSearchQuery, setBankSearchQuery] = useState('');\n  const [banksExpanded, setBanksExpanded] = useState(false);\n  const [transactionsExpanded, setTransactionsExpanded] = useState(false);\n  const [loadedTransactions, setLoadedTransactions] = useState<Transaction[]>([]);\n  const [transactionsLoading, setTransactionsLoading] = useState(false);\n\n  const { data: banksData, isLoading: banksLoading } = useGetBanksQuery();\n  const [bankConsent] = useBankConsentMutation();\n  const [getBankConsentStatus] = useLazyGetBankConsentStatusQuery();\n  const { data: accountsData, isLoading: accountsLoading, error: accountsError, refetch: refetchAccounts } = useGetBankOverviewQuery({ refresh: true });\n  const [syncBanks] = useSyncBanksMutation();\n  const [getAccountTransactions] = useLazyGetAccountTransactionsQuery();\n\n  // Загружаем транзакции для всех счетов\n  useEffect(() => {\n    if (accountsData?.banks) {\n      setTransactionsLoading(true);\n      setLoadedTransactions([]); // Очищаем старые транзакции\n      const loadPromises: Promise<void>[] = [];\n\n      accountsData.banks.forEach((bank) => {\n        (bank.accounts || []).forEach((account) => {\n          const promise = getAccountTransactions({\n            bankId: bank.bankId,\n            accountId: account.accountId,\n          }).then((result) => {\n            if (result.data?.data?.transaction) {\n              const transactions = result.data.data.transaction.map((tx: Transaction) => ({\n                ...tx,\n                bankId: bank.bankId,\n                accountId: account.accountId,\n              }));\n              setLoadedTransactions((prev) => {\n                const newTransactions = [...prev, ...transactions];\n                console.log('Loaded transactions for', bank.bankId, account.accountId, ':', transactions.length);\n                return newTransactions;\n              });\n            }\n          }).catch((error) => {\n            console.error('Error loading transactions:', error);\n            // Игнорируем ошибки для отдельных счетов\n          });\n          loadPromises.push(promise);\n        });\n      });\n\n      Promise.all(loadPromises).finally(() => {\n        setTransactionsLoading(false);\n      });\n    } else {\n      setLoadedTransactions([]);\n    }\n  }, [accountsData, getAccountTransactions]);\n\n  // Вычисляем общий баланс\n  const totalBalance = useMemo(() => {\n    if (!accountsData?.banks) return 0;\n    let total = 0;\n    accountsData.banks.forEach((bank) => {\n      (bank.accounts || []).forEach((account) => {\n        const balance = account.balance || account.balances?.[0]?.amount || '0';\n        const balanceNum = parseFloat(String(balance));\n        if (!isNaN(balanceNum)) {\n          total += balanceNum;\n        }\n      });\n    });\n    return total;\n  }, [accountsData]);\n\n  // Собираем все транзакции\n  const allTransactions = useMemo(() => {\n    const transactionsMap = new Map<string, any>();\n\n    // Добавляем транзакции из accountsData\n    if (accountsData?.banks) {\n      accountsData.banks.forEach((bank) => {\n        (bank.accounts || []).forEach((account) => {\n          if (account.transactions && Array.isArray(account.transactions)) {\n            account.transactions.forEach((tx: any) => {\n              const uniqueKey = `${bank.bankId}_${account.accountId}_${tx.transactionId || tx.id || ''}`;\n              if (!transactionsMap.has(uniqueKey)) {\n                transactionsMap.set(uniqueKey, {\n                  ...tx,\n                  bankId: bank.bankId,\n                  accountId: account.accountId,\n                  uniqueKey,\n                });\n              }\n            });\n          }\n        });\n      });\n    }\n\n    // Добавляем загруженные транзакции\n    loadedTransactions.forEach((tx) => {\n      const uniqueKey = `${tx.bankId || ''}_${tx.accountId || ''}_${tx.transactionId || ''}`;\n      if (!transactionsMap.has(uniqueKey)) {\n        transactionsMap.set(uniqueKey, {\n          ...tx,\n          uniqueKey,\n        });\n      }\n    });\n\n    const all = Array.from(transactionsMap.values());\n    return all.sort((a, b) => {\n      const dateA = new Date(a.date || a.bookingDateTime || a.valueDateTime || 0).getTime();\n      const dateB = new Date(b.date || b.bookingDateTime || b.valueDateTime || 0).getTime();\n      return dateB - dateA;\n    }).slice(0, 10);\n  }, [accountsData, loadedTransactions]);\n\n  // Вычисляем доходы и расходы\n  const incomeExpense = useMemo(() => {\n    let income = 0;\n    let expense = 0;\n\n    allTransactions.forEach((transaction: any) => {\n      let amount = 0;\n      if (typeof transaction.amount === 'object' && transaction.amount?.amount) {\n        amount = parseFloat(String(transaction.amount.amount || '0'));\n      } else {\n        amount = parseFloat(String(transaction.amount || '0'));\n      }\n\n      if (!isNaN(amount) && amount !== 0) {\n        const isCredit = transaction.creditDebitIndicator === 'Credit';\n        if (isCredit) {\n          income += Math.abs(amount);\n        } else if (transaction.creditDebitIndicator === 'Debit') {\n          expense += Math.abs(amount);\n        }\n      }\n    });\n\n    return { income, expense };\n  }, [allTransactions]);\n\n  // Фильтруем список банков\n  const banksList = useMemo(() => {\n    if (!banksData?.banks) return [];\n    const filtered = banksData.banks.filter((bankId) =>\n      getBankDisplayName(bankId).toLowerCase().includes(bankSearchQuery.toLowerCase()) ||\n      bankId.toLowerCase().includes(bankSearchQuery.toLowerCase())\n    );\n    return banksExpanded ? filtered : filtered.slice(0, 5);\n  }, [banksData, bankSearchQuery, banksExpanded]);\n\n\n  const handleBankConnect = (bankId: string) => {\n    setSelectedBank(bankId);\n    setConsentModalOpen(true);\n  };\n\n  const handleConsentSubmit = async () => {\n    if (!selectedBank) return;\n\n    try {\n      const result = await bankConsent({\n        bankId: selectedBank,\n        data: clientId ? { client_id: clientId } : undefined,\n      }).unwrap();\n\n      setConsentRequestId(result.requestId);\n      setConsentModalOpen(false);\n      notifications.show({\n        title: 'Запрос отправлен',\n        message: result.message,\n        color: 'blue',\n      });\n\n      // Проверяем статус каждые 2 секунды\n      const checkStatus = setInterval(async () => {\n        if (!selectedBank || !result.requestId) return;\n\n        try {\n          const statusResult = await getBankConsentStatus({\n            bankId: selectedBank,\n            requestId: result.requestId,\n          }).unwrap();\n\n          if (statusResult.status === 'approved') {\n            clearInterval(checkStatus);\n            notifications.show({\n              title: 'Банк подключен',\n              message: 'Согласие получено. Данные обновляются...',\n              color: 'green',\n            });\n            setTimeout(() => {\n              refetchAccounts();\n            }, 1000);\n          }\n        } catch (error) {\n          // Игнорируем ошибки проверки статуса\n        }\n      }, 2000);\n\n      // Останавливаем проверку через 30 секунд\n      setTimeout(() => {\n        clearInterval(checkStatus);\n      }, 30000);\n    } catch (error: any) {\n      notifications.show({\n        title: 'Ошибка',\n        message: error?.data?.message || 'Не удалось отправить запрос',\n        color: 'red',\n      });\n    }\n  };\n\n  const handleSyncBanks = async () => {\n    try {\n      await syncBanks().unwrap();\n      notifications.show({\n        title: 'Синхронизация запущена',\n        message: 'Данные обновляются...',\n        color: 'blue',\n      });\n      setTimeout(() => {\n        refetchAccounts();\n      }, 2000);\n    } catch (error: any) {\n      notifications.show({\n        title: 'Ошибка',\n        message: error?.data?.message || 'Не удалось запустить синхронизацию',\n        color: 'red',\n      });\n    }\n  };\n\n  return (\n    <Container size=\"xl\" py=\"xl\" style={{ maxWidth: '1400px', margin: '0 auto' }}>\n      <Stack gap=\"lg\">\n        <Title order={1} size=\"h2\" fw={700} c={PAGE_STYLES.textPrimary}>\n          Дашборд\n        </Title>\n\n        {/* Баланс, Сбережения и Транзакции в одну строку, Статистика под балансом и сбережениями */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(12, 1fr)',\n          gap: 'var(--mantine-spacing-lg)',\n        }}>\n          {/* Баланс */}\n          <div style={{ gridColumn: 'span 4' }}>\n            <Card\n              padding=\"xl\"\n              radius=\"xl\"\n              style={{\n                background: PAGE_STYLES.cardBackground,\n                border: `1px solid ${PAGE_STYLES.borderColor}`,\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              }}\n            >\n              <Stack gap=\"md\">\n                <Text size=\"sm\" c={PAGE_STYLES.textSecondary} fw={500}>\n                  Общий баланс\n                </Text>\n                <Title order={1} style={{ fontSize: '2rem', lineHeight: 1.2, color: PAGE_STYLES.textPrimary, fontWeight: 700 }}>\n                  {totalBalance > 0 \n                    ? totalBalance.toLocaleString('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' ₽'\n                    : accountsLoading \n                      ? 'Загрузка...' \n                      : '0.00 ₽'}\n                </Title>\n                <Group gap=\"lg\" mt=\"xs\">\n                  <Stack gap={4}>\n                    <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>Доходы</Text>\n                    <Text size=\"md\" fw={600} c={PAGE_STYLES.successGreen}>\n                      {incomeExpense.income > 0 \n                        ? formatBalance(incomeExpense.income.toString(), 'RUB')\n                        : '0.00 RUB'}\n                    </Text>\n                  </Stack>\n                  <Stack gap={4}>\n                    <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>Расходы</Text>\n                    <Text size=\"md\" fw={600} c=\"#EF4444\">\n                      {incomeExpense.expense > 0 \n                        ? formatBalance(incomeExpense.expense.toString(), 'RUB')\n                        : '0.00 RUB'}\n                    </Text>\n                  </Stack>\n                </Group>\n              </Stack>\n            </Card>\n          </div>\n\n          {/* Сбережения */}\n          <div style={{ gridColumn: 'span 4' }}>\n            <Card\n              padding=\"xl\"\n              radius=\"xl\"\n              style={{\n                background: PAGE_STYLES.cardBackground,\n                border: `1px solid ${PAGE_STYLES.borderColor}`,\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              }}\n            >\n              <Stack gap=\"md\">\n                <Text size=\"sm\" c={PAGE_STYLES.textSecondary} fw={500}>\n                  Сбережения\n                </Text>\n                <Title order={1} style={{ fontSize: '2rem', lineHeight: 1.2, color: PAGE_STYLES.textPrimary, fontWeight: 700 }}>\n                  {totalBalance > 0 \n                    ? (totalBalance * 0.1).toLocaleString('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + ' ₽'\n                    : '0.00 ₽'}\n                </Title>\n                <Group gap=\"xs\" mt=\"xs\">\n                  <IconTrendingUp size={16} color={PAGE_STYLES.successGreen} />\n                  <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>\n                    +2.36% за месяц\n                  </Text>\n                </Group>\n              </Stack>\n            </Card>\n          </div>\n\n          {/* Транзакции - растягиваются на 2 строки */}\n          <div style={{ gridColumn: 'span 4', gridRow: 'span 2' }}>\n            <Card\n              padding=\"xl\"\n              radius=\"xl\"\n              style={{\n                background: PAGE_STYLES.cardBackground,\n                border: `1px solid ${PAGE_STYLES.borderColor}`,\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <Stack gap=\"md\" style={{ flex: 1 }}>\n                <Group justify=\"space-between\" align=\"center\">\n                  <Title order={3} size=\"h4\" fw={600} c={PAGE_STYLES.textPrimary}>\n                    Транзакции\n                  </Title>\n                  {allTransactions.length > 5 && (\n                    <Button\n                      variant=\"subtle\"\n                      size=\"xs\"\n                      rightSection={transactionsExpanded ? <IconChevronUp size={14} /> : <IconChevronDown size={14} />}\n                      onClick={() => setTransactionsExpanded(!transactionsExpanded)}\n                      c={PAGE_STYLES.textSecondary}\n                    >\n                      {transactionsExpanded ? 'Свернуть' : `Все (${allTransactions.length})`}\n                    </Button>\n                  )}\n                </Group>\n                \n                {transactionsLoading ? (\n                  <Center py=\"md\" style={{ flex: 1 }}>\n                    <Loader size=\"sm\" />\n                  </Center>\n                ) : allTransactions.length > 0 ? (\n                  <Stack gap=\"xs\" style={{ flex: 1, overflowY: 'auto' }}>\n                    {(transactionsExpanded ? allTransactions : allTransactions.slice(0, 5)).map((transaction: any, index) => {\n                      const transactionDate = transaction.date || transaction.bookingDateTime || transaction.valueDateTime || transaction.createdAt || transaction.transactionDate;\n                      const date = transactionDate ? new Date(transactionDate) : new Date();\n                      const day = date.getDate();\n                      const monthNames = ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек'];\n                      const month = monthNames[date.getMonth()] || '';\n\n                      // Обрабатываем разные форматы суммы\n                      let amount = 0;\n                      if (typeof transaction.amount === 'object' && transaction.amount?.amount) {\n                        amount = parseFloat(String(transaction.amount.amount || '0'));\n                      } else {\n                        amount = parseFloat(String(transaction.amount || transaction.value || '0'));\n                      }\n\n                      // Определяем знак на основе creditDebitIndicator\n                      const isCredit = transaction.creditDebitIndicator === 'Credit';\n                      const amountStr = isCredit\n                        ? `+${formatBalance(Math.abs(amount).toString(), transaction.amount?.currency || transaction.currency || 'RUB')}`\n                        : `-${formatBalance(Math.abs(amount).toString(), transaction.amount?.currency || transaction.currency || 'RUB')}`;\n\n                      const name = transaction.transactionInformation || transaction.name || transaction.description || transaction.merchantName || 'Транзакция';\n\n                      return (\n                        <Group\n                          key={transaction.uniqueKey || `${transaction.bankId || ''}_${transaction.accountId || ''}_${transaction.transactionId || transaction.id || index}`}\n                          justify=\"space-between\"\n                          p=\"sm\"\n                          style={{\n                            backgroundColor: index % 2 === 0 ? PAGE_STYLES.paperBackground : 'transparent',\n                            borderRadius: 'var(--mantine-radius-md)',\n                            border: `1px solid ${PAGE_STYLES.borderColor}`,\n                          }}\n                          wrap=\"nowrap\"\n                        >\n                          <Group gap=\"sm\" style={{ flex: 1, minWidth: 0 }}>\n                            <div\n                              style={{\n                                width: '40px',\n                                height: '40px',\n                                borderRadius: '12px',\n                                background: isCredit\n                                  ? `${PAGE_STYLES.successGreen}15`\n                                  : `${PAGE_STYLES.accentOrange}15`,\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                              }}\n                            >\n                              {isCredit ? (\n                                <IconArrowUpRight size={20} color={PAGE_STYLES.successGreen} />\n                              ) : (\n                                <IconArrowDownRight size={20} color={PAGE_STYLES.accentOrange} />\n                              )}\n                            </div>\n\n                            <Stack gap={2} style={{ flex: 1, minWidth: 0 }}>\n                              <Text size=\"sm\" fw={500} style={{ color: PAGE_STYLES.textPrimary, lineHeight: 1.2 }} truncate>\n                                {name}\n                              </Text>\n                              <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>\n                                {day} {month}\n                              </Text>\n                            </Stack>\n                          </Group>\n\n                          <Text\n                            fw={600}\n                            size=\"sm\"\n                            style={{\n                              color: isCredit ? PAGE_STYLES.successGreen : PAGE_STYLES.textPrimary,\n                              minWidth: '90px',\n                              textAlign: 'right',\n                              whiteSpace: 'nowrap'\n                            }}\n                          >\n                            {amountStr}\n                          </Text>\n                        </Group>\n                      );\n                    })}\n                  </Stack>\n                ) : (\n                  <Center py=\"xl\" style={{ flex: 1 }}>\n                    <Stack align=\"center\" gap=\"xs\">\n                      <IconHistory size={32} color={PAGE_STYLES.textSecondary} />\n                      <Text size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                        Нет транзакций\n                      </Text>\n                    </Stack>\n                  </Center>\n                )}\n              </Stack>\n            </Card>\n          </div>\n\n          {/* Статистика - под балансом и сбережениями */}\n          <div style={{ gridColumn: 'span 8' }}>\n            <Card\n              padding=\"xl\"\n              radius=\"xl\"\n              style={{\n                background: PAGE_STYLES.cardBackground,\n                border: `1px solid ${PAGE_STYLES.borderColor}`,\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              }}\n            >\n              <Stack gap=\"md\">\n                <Group justify=\"space-between\" align=\"center\">\n                  <Title order={3} size=\"h4\" fw={600} c={PAGE_STYLES.textPrimary}>\n                    Статистика\n                  </Title>\n                  <Badge variant=\"light\" size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                    Последние 7 дней\n                  </Badge>\n                </Group>\n\n                {/* AreaChart статистика */}\n                {chartData && chartData.length > 0 ? (\n                  <div>\n                    <AreaChart\n                      h={280}\n                      data={chartData}\n                      dataKey=\"date\"\n                      type=\"stacked\"\n                      withLegend\n                      legendProps={{ verticalAlign: 'bottom', height: 50 }}\n                      curveType=\"natural\"\n                      strokeWidth={2}\n                      fillOpacity={0.6}\n                      withTooltip\n                      withDots={false}\n                      withXAxis\n                      withYAxis\n                      yAxisProps={{\n                        domain: [0, 'auto'],\n                        tickFormatter: (value: number) => {\n                          if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M`;\n                          if (value >= 1000) return `${(value / 1000).toFixed(1)}K`;\n                          return value.toString();\n                        },\n                      }}\n                      xAxisProps={{\n                        tick: { fontSize: 12 },\n                      }}\n                      series={[\n                        { \n                          name: 'Доходы', \n                          color: PAGE_STYLES.buttonBlue,\n                          label: 'Доходы'\n                        },\n                        { \n                          name: 'Расходы', \n                          color: PAGE_STYLES.textPrimary,\n                          label: 'Расходы'\n                        },\n                      ]}\n                    />\n                    {/* Отладочная информация - можно убрать позже */}\n                    {process.env.NODE_ENV === 'development' && (\n                      <details style={{ marginTop: '10px', fontSize: '10px', color: '#999' }}>\n                        <summary>Debug info</summary>\n                        <pre style={{ fontSize: '10px', maxHeight: '200px', overflow: 'auto' }}>\n                          {JSON.stringify(chartData, null, 2)}\n                        </pre>\n                        <div style={{ marginTop: '10px' }}>\n                          <strong>Transactions loaded:</strong> {allTransactions.length}\n                        </div>\n                        <div>\n                          <strong>Has data:</strong> {chartData.some(d => d.Доходы > 0 || d.Расходы > 0) ? 'Yes' : 'No'}\n                        </div>\n                      </details>\n                    )}\n                  </div>\n                ) : (\n                  <Center h={280}>\n                    <Stack align=\"center\" gap=\"xs\">\n                      <Text size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                        Нет данных для отображения\n                      </Text>\n                      <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>\n                        Транзакции появятся после синхронизации\n                      </Text>\n                    </Stack>\n                  </Center>\n                )}\n              </Stack>\n            </Card>\n          </div>\n        </div>\n\n        {/* Мои счета */}\n        <Card\n          padding=\"xl\"\n          radius=\"xl\"\n          style={{\n            background: PAGE_STYLES.cardBackground,\n            border: `1px solid ${PAGE_STYLES.borderColor}`,\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          }}\n        >\n          <Stack gap=\"md\">\n            <Group justify=\"space-between\" align=\"center\">\n              <Title order={3} size=\"h4\" fw={600} c={PAGE_STYLES.textPrimary}>\n                Мои счета\n              </Title>\n              <Button\n                variant=\"light\"\n                size=\"sm\"\n                leftSection={<IconRotateClockwise size={16} />}\n                onClick={handleSyncBanks}\n                loading={accountsLoading}\n              >\n                Синхронизировать\n              </Button>\n            </Group>\n\n            {accountsError && (\n              <Alert\n                icon={<IconAlertCircle size={16} />}\n                title=\"Ошибка загрузки\"\n                color=\"red\"\n                variant=\"light\"\n              >\n                Не удалось загрузить данные счетов. Попробуйте обновить страницу.\n              </Alert>\n            )}\n\n            {accountsLoading ? (\n              <Center py=\"xl\">\n                <Loader size=\"md\" />\n              </Center>\n            ) : accountsData?.banks && accountsData.banks.length > 0 ? (\n              <Group gap=\"md\" align=\"flex-start\">\n                {accountsData.banks.map((bank) => (\n                  <Card\n                    key={bank.bankId}\n                    padding=\"md\"\n                    radius=\"md\"\n                    style={{\n                      background: PAGE_STYLES.paperBackground,\n                      border: `1px solid ${PAGE_STYLES.borderColor}`,\n                      flex: 1,\n                      minWidth: '200px',\n                    }}\n                  >\n                    <Stack gap=\"sm\">\n                      <Text fw={600} size=\"sm\" c={PAGE_STYLES.textPrimary}>\n                        {getBankDisplayName(bank.bankId)}\n                      </Text>\n                      {(bank.accounts || []).length > 0 ? (\n                        <Stack gap=\"xs\">\n                          {(bank.accounts || []).map((account) => (\n                            <div key={account.accountId || account.id}>\n                              <Text size=\"xs\" c={PAGE_STYLES.textSecondary} truncate>\n                                {account.accountName || account.nickname || account.accountNumber || 'Счет'}\n                              </Text>\n                              <Text size=\"sm\" fw={600} c={PAGE_STYLES.textPrimary}>\n                                {formatBalance(account.balance || account.balances?.[0]?.amount || '0', account.currency || 'RUB')}\n                              </Text>\n                            </div>\n                          ))}\n                        </Stack>\n                      ) : (\n                        <Text size=\"xs\" c={PAGE_STYLES.textSecondary}>\n                          Нет счетов\n                        </Text>\n                      )}\n                    </Stack>\n                  </Card>\n                ))}\n              </Group>\n            ) : (\n              <Center py=\"xl\">\n                <Stack align=\"center\" gap=\"xs\">\n                  <Text size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                    Нет подключенных банков\n                  </Text>\n                </Stack>\n              </Center>\n            )}\n          </Stack>\n        </Card>\n\n        {/* Подключить банк */}\n        <Card\n          padding=\"xl\"\n          radius=\"xl\"\n          style={{\n            background: PAGE_STYLES.cardBackground,\n            border: `1px solid ${PAGE_STYLES.borderColor}`,\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          }}\n        >\n          <Stack gap=\"md\">\n            <Title order={3} size=\"h4\" fw={600} c={PAGE_STYLES.textPrimary}>\n              Доступные банки\n            </Title>\n\n            <TextInput\n              placeholder=\"Поиск банка...\"\n              leftSection={<IconSearch size={16} />}\n              value={bankSearchQuery}\n              onChange={(e) => setBankSearchQuery(e.target.value)}\n              size=\"sm\"\n            />\n\n            {banksLoading ? (\n              <Center py=\"md\">\n                <Loader size=\"sm\" />\n              </Center>\n            ) : banksList.length > 0 ? (\n              <Stack gap=\"xs\">\n                {banksList.map((bankId) => (\n                  <Group\n                    key={bankId}\n                    justify=\"space-between\"\n                    p=\"sm\"\n                    style={{\n                      backgroundColor: PAGE_STYLES.paperBackground,\n                      borderRadius: 'var(--mantine-radius-md)',\n                      border: `1px solid ${PAGE_STYLES.borderColor}`,\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease',\n                    }}\n                    onClick={() => handleBankConnect(bankId)}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.backgroundColor = '#E9ECEF';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.backgroundColor = PAGE_STYLES.paperBackground;\n                    }}\n                  >\n                    <Text size=\"sm\" fw={500} c={PAGE_STYLES.textPrimary}>\n                      {getBankDisplayName(bankId)}\n                    </Text>\n                    <Button size=\"xs\" variant=\"light\">\n                      Подключить\n                    </Button>\n                  </Group>\n                ))}\n                {banksData && banksData.banks.length > 5 && (\n                  <Button\n                    variant=\"subtle\"\n                    size=\"xs\"\n                    onClick={() => setBanksExpanded(!banksExpanded)}\n                    rightSection={banksExpanded ? <IconChevronUp size={14} /> : <IconChevronDown size={14} />}\n                  >\n                    {banksExpanded ? 'Свернуть' : `Показать все (${banksData.banks.length})`}\n                  </Button>\n                )}\n              </Stack>\n            ) : (\n              <Center py=\"md\">\n                <Text size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                  Банки не найдены\n                </Text>\n              </Center>\n            )}\n          </Stack>\n        </Card>\n      </Stack>\n\n      {/* Модальное окно для подключения банка */}\n      {consentModalOpen && selectedBank && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n          }}\n          onClick={() => setConsentModalOpen(false)}\n        >\n          <Card\n            padding=\"xl\"\n            radius=\"md\"\n            style={{\n              background: PAGE_STYLES.cardBackground,\n              maxWidth: '400px',\n              width: '90%',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Stack gap=\"md\">\n              <Title order={3} size=\"h4\">\n                Подключить {getBankDisplayName(selectedBank)}\n              </Title>\n              <Text size=\"sm\" c={PAGE_STYLES.textSecondary}>\n                Введите client_id (опционально). Если не указать, будет использован сохраненный.\n              </Text>\n              <TextInput\n                label=\"Client ID\"\n                placeholder=\"team052-1\"\n                value={clientId}\n                onChange={(e) => setClientId(e.target.value)}\n              />\n              <Group justify=\"flex-end\" gap=\"sm\">\n                <Button variant=\"subtle\" onClick={() => setConsentModalOpen(false)}>\n                  Отмена\n                </Button>\n                <Button onClick={handleConsentSubmit}>\n                  Подключить\n                </Button>\n              </Group>\n            </Stack>\n          </Card>\n        </div>\n      )}\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}